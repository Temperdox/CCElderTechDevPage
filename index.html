<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CC:ElderTech - Complete Documentation</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.2/joint.min.css">

  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/recipes.css">
</head>
<body>

<button class="mobile-toggle" id="mobileToggle" onclick="toggleSidebar()">
  <i class="fas fa-bars"></i>
  <i class="fas fa-times"></i>
</button>

<div class="sidebar" id="sidebar">
  <h1><i class="fas fa-gem"></i> CC:ElderTech </h1>
  <div class="version"><i class="fas fa-code-branch"></i> Version 1.10</div>

  <ul class="toc" id="toc">
    <li><a href="#overview"><i class="fas fa-book"></i> Overview</a></li>
    <li><a href="#faq"><i class="fas fa-question-circle"></i> FAQ</a></li>
    <li><a href="#relics-artifacts"><i class="fas fa-star"></i> Relics & Artifacts</a></li>
    <li><a href="#terminology"><i class="fas fa-list"></i> Terminology</a></li>
    <li><a href="#core-systems"><i class="fas fa-cogs"></i> Core Systems</a></li>
    <li><a href="#cc-tweaked"><i class="fas fa-laptop-code"></i> CC:Tweaked APIs</a></li>
    <li><a href="#modification-system"><i class="fas fa-project-diagram"></i> Module & Circuit System</a></li>
    <li><a href="#crafting-recipes"><i class="fas fa-hammer"></i> Crafting Recipes</a></li>
    <li><a href="#blueprints"><i class="fas fa-file-code"></i> Blueprints</a></li>
    <li><a href="#durability"><i class="fas fa-heart-broken"></i> Durability</a></li>
    <li><a href="#ruins"><i class="fas fa-landmark"></i> Ruins & Discovery</a></li>
    <li><a href="#minigames"><i class="fas fa-gamepad"></i> Minigames</a></li>
    <li><a href="#fe-power"><i class="fas fa-bolt"></i> FE Power & Modification</a></li>
    <li><a href="#relics-list"><i class="fas fa-crown"></i> Relics List</a></li>
    <li><a href="#artifacts-list"><i class="fas fa-meteor"></i> Artifacts List</a></li>
    <li><a href="#lua-programs"><i class="fas fa-code"></i> Example Programs</a></li>
    <li><a href="#affixes"><i class="fas fa-magic"></i> Affixes</a></li>
    <li><a href="#resources"><i class="fas fa-cube"></i> Resources</a></li>
    <li><a href="#creative-items"><i class="fas fa-palette"></i> Creative Items</a></li>
    <li><a href="#commands"><i class="fas fa-terminal"></i> Commands</a></li>
    <li><a href="#multiplayer"><i class="fas fa-users"></i> Multiplayer</a></li>
    <li><a href="#config"><i class="fas fa-sliders-h"></i> Configuration</a></li>
  </ul>
</div>

<div class="main-content">

  <!-- Overview -->
  <div id="overview" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-book"></i> Overview</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>CC:ElderTech - Complete Design</h3>
        <p>A Minecraft mod <strong>fundamentally dependent on CC:Tweaked</strong> that lets you explore ruins of lost civilizations and rekindle their forgotten quantum technology. Enhance pocket computers and turtles with ancient modular programming systems discovered in archaeological expeditions. Unearth relics and artifacts from vanished advanced societies, and harness their computational power through cartridge-based logic programming.</p>

        <div class="alert alert-info">
          <i class="fas fa-landmark"></i>
          <div>
            <strong>Lore:</strong> Long ago, an advanced civilization mastered quantum computation and modular circuit design. They vanished mysteriously, leaving behind ruins filled with technological relics. You are an archaeologist-programmer, excavating their secrets and bringing their Elder Technology back to life.
          </div>
        </div>

        <div class="alert alert-danger">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>CRITICAL DEPENDENCY:</strong> This mod CANNOT function without CC:Tweaked. Only works with CC:Tweaked pocket computers and turtles.
          </div>
        </div>

        <h4>Core Philosophy</h4>
        <ul>
          <li><strong>Only Pocket Computers & Turtles:</strong> No weapons, tools, or armor. Pure computational enhancement.</li>
          <li><strong>Workbench Central:</strong> Craft modules, upgrade devices (Basic → Legendary tiers), create logic cartridges.</li>
          <li><strong>Module System:</strong> Craft action modules (burn, explode, teleport, etc.) at workbench. Install into devices. Write unrestricted Lua code.</li>
          <li><strong>Cartridge-Based Storage:</strong> Logic Cartridges = digital storage medium (like Game Boy cartridges). Store compiled Circuits.</li>
          <li><strong>Unrestricted Programming:</strong> Write any Lua code you want. Modules provide action methods. Call module methods to execute effects.</li>
          <li><strong>FE Cost System:</strong> 5% FE drain per tick while code executes + one-time FE cost per module method call (scales with rarity).</li>
          <li><strong>Backup & Share:</strong> Export Circuits to .lua files. Decompile cartridges to recover modules (destroys cartridge).</li>
        </ul>

        <h4>How It Works</h4>
        <ol>
          <li><strong>Craft Workbench:</strong> Central crafting station for all mod operations</li>
          <li><strong>Upgrade Device:</strong> Place pocket computer/turtle + endgame resources in workbench → Creates tiered device (Basic/Advanced/Elite/Master/Legendary)</li>
          <li><strong>Craft Modules:</strong> Create action modules (burn, explode, teleport, shield, etc.) at workbench</li>
          <li><strong>Install Modules:</strong> Insert modules into upgraded device via workbench</li>
          <li><strong>Program Circuit:</strong> Shift+Right Click device → Write unrestricted Lua code → Call module methods for effects → Click Cartridge button → Insert empty cartridge</li>
          <li><strong>Compile:</strong> Run compile → Transfers modules to cartridge → Saves Circuit</li>
          <li><strong>Execute:</strong> Right Click device to run active Circuit from cartridge (5% FE/tick + method call costs)</li>
        </ol>

        <h4>Device Tiers</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Tier</th>
                <th>Resources Required</th>
                <th>Module Slots</th>
                <th>Cartridge Slots</th>
                <th>FE Capacity</th>
                <th>FE Drain Exponent</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge bg-secondary">Basic</span></td>
                <td>Pocket Computer + Iron</td>
                <td>4</td>
                <td>3</td>
                <td>10k FE</td>
                <td>1.15 (fast drain)</td>
              </tr>
              <tr>
                <td><span class="badge badge-rare">Advanced</span></td>
                <td>Basic + Cerulite</td>
                <td>8</td>
                <td>6</td>
                <td>50k FE</td>
                <td>1.10 (moderate)</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Elite</span></td>
                <td>Advanced + Chronite</td>
                <td>12</td>
                <td>9</td>
                <td>250k FE</td>
                <td>1.05 (slow)</td>
              </tr>
              <tr>
                <td><span class="badge badge-legendary">Master</span></td>
                <td>Elite + Muon Crystals</td>
                <td>16</td>
                <td>12</td>
                <td>1M FE</td>
                <td>1.02 (very slow)</td>
              </tr>
              <tr>
                <td><span class="badge badge-artifact">Legendary</span></td>
                <td>Master + Neutrino Cores</td>
                <td>20</td>
                <td>15</td>
                <td>10M FE</td>
                <td>1.01 (minimal)</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Progression Summary</h4>
        <ol>
          <li><strong>Early:</strong> Craft workbench, upgrade pocket computer to Basic tier, craft simple action modules (burn, knockback)</li>
          <li><strong>Mid:</strong> Gather Cerulite for Advanced tier, unlock Rare modules (explosion, teleport), manage FE costs</li>
          <li><strong>Late:</strong> Farm Chronite for Elite tier, unlock Epic modules (chain lightning, gravity well), optimize FE efficiency</li>
          <li><strong>Endgame:</strong> Obtain Muon/Neutrino for Legendary tier, master complex Lua programs with powerful Legendary/Artifact modules</li>
        </ol>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Key Insight:</strong> Write any Lua code you want. Modules provide action methods that cost FE when called. Natural FE limitation prevents infinite loops - your code runs out of power before breaking anything.
          </div>
        </div>

        <h4>Device Types: Turtles vs Pocket Computers</h4>
        <div class="alert alert-warning">
          <i class="fas fa-info-circle"></i>
          <div>
            <strong>IMPORTANT DISTINCTION:</strong>
            <ul>
              <li><strong>Turtles:</strong> Use standard CC:Tweaked turtle interface (right-click opens coding terminal). Have 4 peripheral slots for upgrades (Quantum Energy Point, tools, sensors, etc.). Execute circuits in-world.</li>
              <li><strong>Pocket Computers/Tablets:</strong> Use Shift+Right Click to open interface. Have cartridge inventory (3x3 grid). Portable, execute circuits from player inventory.</li>
            </ul>
          </div>
        </div>

        <h4>Complete Programming Example: Combat Spell System</h4>
        <p>This example shows a pocket tablet with unrestricted Lua code calling module methods for combat effects.</p>

        <pre><code class="language-lua">-- COMBAT SPELL CIRCUIT
-- Shift+Right Click tablet to open coding interface
-- Modules installed: burn (Epic), explode (Legendary), raycast (Rare)

-- Create a new projectile circuit
local circuit = Projectile.new("fireball")

-- Define spell parameters (UNRESTRICTED Lua code!)
local baseDamage = 10
local explosionRadius = 5
local burnDuration = 10

-- Use normal Lua control flow
for i = 1, 3 do
  print("Preparing spell burst " .. i)
end

-- Define impact behavior
circuit:onImpact(function(target)
  -- Call module methods (each costs FE)
  burn(target, burnDuration)  -- Epic module: 100k FE one-time cost
  explode(explosionRadius)     -- Legendary: 1M FE one-time cost

  -- Use normal Lua
  if target.health > 50 then
    dealDamage(target, baseDamage * 2)  -- Double damage if high HP
  else
    dealDamage(target, baseDamage)
  end
end)

-- Compile to cartridge (modules transfer to cartridge)
circuit:compile("Fireball", 1)

-- Execution costs:
-- - 5% FE per tick while code runs
-- - 100k FE when burn() is called
-- - 1M FE when explode() is called
-- Total: ~1.1M FE + tick costs

print("Spell compiled to cartridge 1")
print("Press R to cast (or right-click tablet)")</code></pre>

        <h4>Cartridge Management</h4>
        <pre><code class="language-lua">-- EXPORT: Backup Circuit to .lua file (for sharing)
circuit:exportToFile("fireball_v2.lua")
-- Saves to CC:Tweaked file system, can be copied to floppy disk

-- IMPORT: Load Circuit from file
local imported = loadCircuitFile("fireball_v2.lua")
-- Still requires empty cartridge and modules to compile

-- DECOMPILE: Recover modules from cartridge (destroys cartridge)
local recoveredModules = this.inv(1):decompile()
-- Returns: {burnModule x1, explodeModule x1, rayCastModule x1}
-- Cartridge destroyed, modules returned to tablet

-- SWITCH: Change active cartridge
this.setActiveCartridge(2)  -- Switch to cartridge in slot 2
-- Now this.inv(2):execute() will run the circuit in slot 2</code></pre>

        <h4>Compilation vs Usage Workflows</h4>
        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Best Practice:</strong> Separate compilation scripts from usage scripts. Compile once, use many times. Check cartridge state before deciding to compile or execute.
          </div>
        </div>

        <h5>Cartridge State Checking Methods</h5>
        <pre><code class="language-lua">-- Check if cartridge is compiled
local cartridge = this.inv(1)
local isCompiled = cartridge:isCompiled()  -- Returns true/false

-- Get circuit name from compiled cartridge
if isCompiled then
  local circuitName = cartridge:getCircuitName()
  print("Cartridge contains: " .. circuitName)
else
  print("Cartridge is empty (not compiled)")
end

-- Get full cartridge metadata
local metadata = cartridge:getMetadata()
if metadata.compiled then
  print("Name: " .. metadata.name)
  print("Module Count: " .. metadata.moduleCount)
  print("Compile Timestamp: " .. metadata.compileTimestamp)
  print("Modules Used: " .. table.concat(metadata.moduleNames, ", "))
end</code></pre>

        <h5>RECOMMENDED: Separate Compilation Script</h5>
        <pre><code class="language-lua">-- compile_combat.lua
-- Run ONCE to compile combat circuit to cartridge
-- This script consumes modules and creates the executable

print("=== Combat Spell Compilation ===")

-- Check if cartridge already compiled
local cartridge = this.inv(1)
if cartridge:isCompiled() then
  print("✗ Cartridge already compiled: " .. cartridge:getCircuitName())
  print("Decompile first if you want to recompile")
  return
end

-- Create circuit with unrestricted Lua
local circuit = Projectile.new("lightning_bolt")

-- Define parameters (any Lua code!)
local damage = 50
local chainCount = 3

-- Build logic with module method calls
circuit:onImpact(function(target)
  -- Epic module: chain lightning (100k FE per call)
  chainLightning(target, chainCount, 0.8)

  -- Rare module: deal damage (10k FE per call)
  dealDamage(target, damage)

  -- Normal Lua logic works!
  if math.random() > 0.5 then
    print("Critical hit!")
    dealDamage(target, damage)  -- Another 10k FE
  end
end)

-- Compile
local success = circuit:compile("Lightning Bolt", 1)

if success then
  print("✓ Combat circuit compiled successfully!")
  print("Modules consumed: chainLightning x1, dealDamage x1")
  print("FE cost per cast: ~120k + 5% FE/tick")
  print()
  print("Run 'use_combat.lua' to execute this circuit")
else
  print("✗ Compilation failed - insufficient modules")
end</code></pre>

        <h5>RECOMMENDED: Separate Usage Script</h5>
        <pre><code class="language-lua">-- use_combat.lua
-- Run this script to EXECUTE the compiled combat circuit
-- Can be run repeatedly without consuming modules

print("=== Combat Spell Execution ===")

-- Check if cartridge is compiled
local cartridge = this.inv(1)
if not cartridge:isCompiled() then
  print("✗ Cartridge not compiled!")
  print("Run 'compile_combat.lua' first")
  return
end

-- Display circuit info
local circuitName = cartridge:getCircuitName()
print("Executing: " .. circuitName)

-- Check FE charge
local tablet = peripheral.find("tablet") or this
local energyAvailable = tablet.getEnergyStored()
print("Tablet FE: " .. energyAvailable .. " FE")

if energyAvailable < 150000 then
  print("⚠ Warning: Low FE! Spell may fail mid-cast")
end

-- Execute circuit
print("Casting spell...")
local executeSuccess = cartridge:execute()

if executeSuccess then
  print("✓ Spell cast successfully!")
  print("FE consumed: ~120k + tick costs")
else
  print("✗ Cast failed - insufficient FE or error")
end</code></pre>

        <h5>COMBINED: Compile + Use (Single Script)</h5>
        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>WARNING:</strong> When combining compilation and usage in one script, you MUST check if cartridge is already compiled first. Otherwise you'll try to recompile every run and waste modules.
          </div>
        </div>

        <pre><code class="language-lua">-- spell_auto.lua
-- Combined script: Compiles if needed, then executes
-- LOGIC: if not compiled → compile and use
--        if compiled → just use

print("=== Auto Combat Spell ===")

local cartridge = this.inv(1)
local needsCompilation = not cartridge:isCompiled()

-- STEP 1: Compile if needed
if needsCompilation then
  print("[COMPILE MODE] Cartridge empty - compiling circuit...")

  local circuit = Projectile.new("ice_shard")

  -- Unrestricted Lua code
  local damage = 30
  local slowPercent = 50

  circuit:onImpact(function(target)
    -- Rare module: freeze effect (10k FE)
    freeze(target, 5)

    -- Rare module: deal damage (10k FE)
    dealDamage(target, damage)
  end)

  local success = circuit:compile("Ice Shard", 1)

  if not success then
    print("✗ Compilation failed - insufficient modules")
    return
  end

  print("✓ Circuit compiled successfully")
else
  print("[USE MODE] Cartridge already compiled: " .. cartridge:getCircuitName())
end

-- STEP 2: Execute the circuit
print("Casting spell...")
local executeSuccess = cartridge:execute()

if executeSuccess then
  print("✓ Spell cast complete")
else
  print("✗ Cast failed")
end</code></pre>

        <h5>ADVANCED: Compile → Use → Decompile Pattern</h5>
        <pre><code class="language-lua">-- temp_circuit.lua
-- Temporary circuit: Compile, use once, decompile to recover modules
-- Useful for one-time tasks where you want modules back

print("=== Temporary Circuit Pattern ===")

local cartridge = this.inv(1)

-- STEP 1: Compile
print("[1/3] Compiling temporary circuit...")

local circuit = Instant.new("heal")

-- Simple heal spell
circuit:onCast(function(caster)
  -- Epic module: heal (100k FE)
  heal(caster, 20)

  print("Healed " .. caster.name)
end)

local compileSuccess = circuit:compile("Temp Heal", 1)
if not compileSuccess then
  print("✗ Compilation failed")
  return
end
print("✓ Compiled")

-- STEP 2: Execute
print("[2/3] Executing circuit...")
local executeSuccess = cartridge:execute()
if not executeSuccess then
  print("✗ Execution failed")
  return
end
print("✓ Executed")

-- STEP 3: Decompile to recover modules
print("[3/3] Decompiling to recover modules...")
local recoveredModules = cartridge:decompile()

print("✓ Modules recovered:")
for moduleName, count in pairs(recoveredModules) do
  print("  - " .. moduleName .. " x" .. count)
end

print()
print("=== Task Complete ===")
print("Cartridge destroyed, modules returned to inventory")</code></pre>

        <h4>Module Consumption Rules</h4>
        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Critical:</strong> Compiling consumes modules! They transfer from device to cartridge.<br>
            • Can't reuse modules for infinite Circuits<br>
            • Decompile cartridge to recover modules (destroys cartridge)<br>
            • Share .lua files, but recipients still need modules to compile<br>
            • Strategic module management is key to progression
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="faq" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-question-circle"></i> Frequently Asked Questions</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Q: Are modules consumed when I compile a circuit?</h3>
        <p><strong>A:</strong> No, modules are <strong>not consumed or destroyed</strong>. When you compile a circuit to a cartridge, the module's NBT data (configuration and properties) is <strong>transferred</strong> to the cartridge. The physical module item moves from your device to the cartridge, binding it to that specific circuit. Think of it like installing software - you're transferring the module's functionality, not destroying it.</p>

        <div class="alert alert-info">
          <i class="fas fa-info-circle"></i>
          <div>
            <strong>Module Flow:</strong> Device Module Slots → Compile Circuit → Cartridge (modules stored here) → Decompile to recover modules
          </div>
        </div>

        <h3>Q: What is a cartridge?</h3>
        <p><strong>A:</strong> A <strong>Logic Cartridge</strong> is a digital storage medium that holds compiled circuits. Think of it like a Game Boy cartridge or a USB drive - it stores your executable circuit along with all the modules that circuit uses. Cartridges:</p>
        <ul>
          <li>Store compiled Lua circuits with their module data</li>
          <li>Can be inserted into devices to execute circuits</li>
          <li>Hold metadata like circuit name, compile timestamp, and author</li>
          <li>Are portable - swap between devices or share with other players</li>
          <li>Can be decompiled to recover modules (destroys the cartridge but returns modules to your inventory)</li>
        </ul>

        <h3>Q: What is a circuit?</h3>
        <p><strong>A:</strong> A <strong>Circuit</strong> is an executable Lua program that you write using module methods. It's compiled from your code and the installed modules, then stored on a cartridge. Circuits:</p>
        <ul>
          <li>Are written in unrestricted Lua - use any code, loops, conditionals, functions</li>
          <li>Call module methods to perform actions (burn, explode, teleport, heal, etc.)</li>
          <li>Execute with FE costs (5% per tick + one-time costs per module call)</li>
          <li>Have types: Projectile, Instant, Raycast, Area, or Summon</li>
          <li>Can be bound to keybinds for quick casting</li>
        </ul>
        <p><strong>Example:</strong> A fireball circuit that calls burn() and explode() when it hits a target.</p>

        <h3>Q: What is a module?</h3>
        <p><strong>A:</strong> A <strong>Module</strong> is an item that provides action methods to your circuits. When installed in a device, modules appear on the side of the coding interface and give you access to special functions like burn(), teleport(), or createShield(). Each module:</p>
        <ul>
          <li>Provides 1-3 related action methods</li>
          <li>Has a rarity (Rare, Epic, Legendary, Artifact) that determines FE cost</li>
          <li>Must be installed in device before compiling</li>
          <li>Transfers to cartridge during compilation</li>
          <li>Can be recovered by decompiling the cartridge</li>
        </ul>

        <h3>Q: Aren't modules just upgrades? Why don't they stay in the system permanently?</h3>
        <p><strong>A:</strong> If modules stayed in devices permanently, it would <strong>completely kill progression</strong>. Here's why the transfer system is essential:</p>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Progression Problem:</strong> If you could install a Legendary Explosion Module once and use it in infinite circuits forever, you'd reach endgame in minutes. There would be no reason to explore ruins, farm materials, or engage with the mod's systems after your first lucky drop.
          </div>
        </div>

        <p><strong>Why the transfer system works:</strong></p>
        <ul>
          <li>Creates strategic decisions: "Do I use my rare Teleport Module for this circuit or save it?"</li>
          <li>Makes powerful circuits valuable and tradeable</li>
          <li>Encourages exploration to find more modules</li>
          <li>Balances power - you can't have 50 god-tier circuits without investment</li>
          <li>Adds risk/reward to decompiling (destroy circuit, recover modules)</li>
        </ul>

        <p><strong>Definition from Computer Science:</strong> In programming, a <strong>module</strong> is "a self-contained unit of functionality that can be combined with other modules to create a complete program" <em>(Martin, Robert C. "Clean Architecture." 2017)</em>. Our modules follow this principle - they're <strong>reusable components</strong> that you combine into different circuits, not permanent upgrades. The transfer system enforces intentional reuse rather than infinite duplication.</p>

        <p class="text-muted"><small>Additional reference: Parnas, D.L. "On the Criteria To Be Used in Decomposing Systems into Modules." Communications of the ACM, 1972. Modules are designed as interchangeable, composable units - not permanent installations.</small></p>

        <h3>Q: How do you limit abuse and prevent infinite loops?</h3>
        <p><strong>A:</strong> The system uses <strong>exponential FE drain</strong> that naturally allows circuits to run but prevents infinite loops:</p>

        <h4>1. Exponential Per-Tick FE Drain</h4>
        <p>Circuit execution drains FE exponentially over time using the formula:</p>
        <pre><code class="light">FE_Drain = Base_Drain% * (Exponent ^ Ticks_Running)</code></pre>

        <p><strong>How it works:</strong></p>
        <ul>
          <li><strong>Early execution:</strong> Low drain (0.5% → 0.55% → 0.61%) - gives circuits time to complete</li>
          <li><strong>Prolonged execution:</strong> Drain increases exponentially - stops runaway code</li>
          <li><strong>Device tier matters:</strong> Higher tier devices have lower exponents (can run longer)</li>
        </ul>

        <p><strong>Device Tier Exponents:</strong></p>
        <ul>
          <li><span class="badge bg-secondary">Basic Device</span>: Base 0.5%, Exponent 1.15 (grows fast)</li>
          <li><span class="badge badge-rare">Advanced Device</span>: Base 0.5%, Exponent 1.10 (moderate growth)</li>
          <li><span class="badge badge-epic">Elite Device</span>: Base 0.5%, Exponent 1.05 (slow growth)</li>
          <li><span class="badge badge-legendary">Master Device</span>: Base 0.5%, Exponent 1.02 (very slow growth)</li>
        </ul>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Example:</strong> A Basic Device at tick 20 drains: 0.5% * (1.15^20) = ~8% per tick. At tick 40: ~81% per tick. Circuits must complete before drain becomes unsustainable.
          </div>
        </div>

        <h4>2. Exponent Clipper Modules</h4>
        <p>Special modules can <strong>lock drain to a flat rate</strong>, preventing exponential growth:</p>
        <ul>
          <li><span class="badge badge-epic">Sustain Module (Epic)</span>: Clips drain to 0.5% (no exponent)</li>
          <li><span class="badge badge-legendary">Eternity Module (Legendary)</span>: Clips drain to 0.1% (ultra-long circuits)</li>
        </ul>
        <p>Use these for complex circuits that need guaranteed completion time without worrying about exponential drain.</p>

        <h4>3. Module Method Costs (One-Time Per Call)</h4>
        <p>Every time you call a module method, it costs FE based on rarity:</p>
        <ul>
          <li><span class="badge badge-rare">Rare</span>: 10,000 FE per call</li>
          <li><span class="badge badge-epic">Epic</span>: 100,000 FE per call</li>
          <li><span class="badge badge-legendary">Legendary</span>: 1,000,000 FE per call</li>
          <li><span class="badge badge-artifact">Artifact</span>: 10,000,000 FE per call</li>
        </ul>

        <h4>4. Natural Infinite Loop Prevention</h4>
        <pre><code class="language-lua">-- This loop will run out of FE automatically
local tick = 0
while true do
  tick = tick + 1
  explode(10)  -- Legendary: 1M FE per call
  -- Tick 1: 0.5% drain
  -- Tick 20: ~8% drain (on Basic Device)
  -- Tick 40: ~81% drain → out of FE, code stops
end</code></pre>

        <p><strong>Result:</strong> Short, efficient circuits run fine. Long circuits drain exponentially. Infinite loops self-terminate. Players balance complexity vs FE capacity.</p>

        <div class="alert alert-success">
          <i class="fas fa-check-circle"></i>
          <div>
            <strong>Design Philosophy:</strong> Exponential drain gives circuits breathing room to complete their task, but naturally punishes inefficient or infinite code. Higher tier devices can handle more complex logic. Clipper modules allow specialized long-running circuits when needed.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="relics-artifacts" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-star"></i> What Are Relics & Artifacts?</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Relics (Ultra-Rare Module Chips)</h3>
        <ul>
          <li><strong>Special module chips</strong> with single rule-bending passive ability</li>
          <li>Install into Pocket Tablet's module slots</li>
          <li><strong>Automatically soulbound on first pickup</strong> - cannot be unbound or removed from tablet</li>
          <li>Permanent bonuses: reduced FE cost, faster cast times, bypass cooldowns, exceed normal limits</li>
          <li>Can be socketed without compiling (always active passive effect)</li>
          <li>Ultra-rare drop from structure loot tables</li>
          <li>Examples: "Overcap Chip" (exceed module slot limits), "Temporal Chip" (50% faster compile), "Void Chip" (circuits ignore shields)</li>
        </ul>

        <h3>Artifacts (Mythic Tablets)</h3>
        <ul>
          <li><strong>World-unique Pocket Tablets</strong> with 1-3 impossible pre-installed modules</li>
          <li>Often unique per world (configurable limits)</li>
          <li>Come with modules that CANNOT be crafted or obtained normally</li>
          <li><strong>NOT soulbound by default</strong> - can be traded/stolen</li>
          <li>Optional soulbinding via endgame Soulbind Module</li>
          <li>Force new strategies: infinite range circuits, instant-cast ultimates, reality-bending effects</li>
          <li>Obtaining one should be server-wide milestone</li>
          <li>Found in sealed Vault structures requiring Vault Keys</li>
          <li>Examples: "Pandora Tablet" (recursive amplification module), "Oracle Tablet" (omniscient scanning), "Chronos Tablet" (time manipulation)</li>
        </ul>

        <h3>Soulbinding Mechanics</h3>
        <h4>Automatic Soulbinding (Relic Chips Only)</h4>
        <ul>
          <li>Relic module chips automatically bind on first pickup</li>
          <li>Cannot be unbound (permanent)</li>
          <li>Once installed in tablet, cannot be removed or transferred</li>
          <li>NBT tag stores: player UUID, player name, bind timestamp</li>
        </ul>

        <h4>Optional Soulbinding (Tablets & Modules)</h4>
        <ul>
          <li>Craft Soulbind Module Chip (endgame recipe: 4 Chronite + 2 Vault Key fragments + 1 Muon Crystal + 1 Neutrino Core)</li>
          <li>Install at workbench during tablet creation or upgrade</li>
          <li>Once applied, tablet becomes permanently soulbound to player</li>
          <li>Soulbound tablets cannot be used by other players</li>
        </ul>

        <h4>Unbinding at QLR</h4>
        <ul>
          <li>Only tablets with optional soulbinding can be unbound (NOT Relic chips)</li>
          <li>Take soulbound tablet to QLR structure</li>
          <li>Process requires: 3 Stabilizer Gel + 2 Phase Lattice + 1 Chronite Crystal</li>
          <li>Process time: 10 minutes</li>
          <li>FE cost: 500,000 FE</li>
          <li>Result: Soulbind removed, tablet can be traded/stolen again</li>
          <li><strong>WARNING:</strong> Unbinding does NOT remove Relic chips - they remain bound to original owner</li>
        </ul>

        <h3>Indestructibility (All Soulbound Tablets)</h3>
        <div class="alert alert-success">
          <i class="fas fa-shield-alt"></i>
          <div>
            <strong>Protection:</strong> Soulbound tablets cannot be destroyed by ANY means: lava, void, cactus, fire, explosions, despawning, /kill
          </div>
        </div>

        <h4>Auto-Return Triggers</h4>
        <ul>
          <li>If dropped in lava or void: Instant return to owner's inventory</li>
          <li>If on ground for 60 seconds: Returns to owner's inventory</li>
          <li>If in another player's inventory for 3 minutes: Returns to owner</li>
          <li>If owner is offline: Tablet goes to their ender chest</li>
          <li>If ender chest full: Tablet waits in "pending return" queue</li>
        </ul>

        <h4>Other Player Interactions</h4>
        <ul>
          <li>Non-owner players cannot open or use soulbound tablets</li>
          <li>Attempting to use shows: "This tablet is bound to [PlayerName]"</li>
          <li>Can temporarily hold/trade physical item, but 3-minute timer starts</li>
          <li>Timer shown in tooltip: "Returns to owner in 2m 45s"</li>
        </ul>

        <h4>Death Handling</h4>
        <ul>
          <li>Soulbound tablets never drop on death (even with keepInventory=false)</li>
          <li>Always remain in player's inventory after respawn</li>
          <li>All compiled circuits and FE charge preserved</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="terminology" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-list"></i> Terminology</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Key Terms & Definitions</h3>

        <h4>Tablets & Devices</h4>
        <ul>
          <li><strong>Pocket Tablet:</strong> Enhanced CC:Tweaked pocket computer. Functions as normal pocket computer + circuit programming system. Has module slots and cartridge system.</li>
          <li><strong>Tablet Tiers:</strong> Basic → Advanced → Elite → Master → Artifact. Higher tiers = more module slots and FE capacity.</li>
          <li><strong>Cartridge:</strong> Circuit storage slot on tablet. Holds compiled circuits. Default 6 slots (expandable to 12).</li>
          <li><strong>Active Cartridge:</strong> Currently selected circuit slot. Right-click tablet to cast active circuit.</li>
          <li><strong>Relic Chip:</strong> Ultra-rare soulbound module chip with passive ability. Auto-binds on pickup. Cannot be removed once installed.</li>
          <li><strong>Artifact Tablet:</strong> Mythic world-unique tablet with 1-3 impossible pre-installed modules. Not soulbound by default.</li>
        </ul>

        <h4>Circuits & Programming</h4>
        <ul>
          <li><strong>Circuit:</strong> Executable Lua program compiled from modules. Stored in cartridge slot. Costs FE to execute.</li>
          <li><strong>Circuit Type:</strong> Category of circuit: Projectile, Instant, Raycast, Area, Summon. Determines behavior.</li>
          <li><strong>Unrestricted Lua:</strong> Write any Lua code you want. No restrictions on values, loops, or logic.</li>
          <li><strong>Module Methods:</strong> Action functions provided by installed modules. Example: burn(), explode(), teleport(), heal()</li>
          <li><strong>Exponential FE Drain:</strong> FE drain that increases exponentially each tick: 0.5% * (Exponent ^ Ticks). Higher tier devices have lower exponents</li>
          <li><strong>FE Drain Exponent:</strong> Device-specific value determining drain growth rate. Basic: 1.15, Advanced: 1.10, Elite: 1.05, Master: 1.02, Legendary: 1.01</li>
          <li><strong>Exponent Clipper Module:</strong> Special module that locks drain to flat rate (0.5% or 0.1%), preventing exponential growth</li>
          <li><strong>FE Per Call Cost:</strong> One-time FE cost when module method is called. Rare: 10k, Epic: 100k, Legendary: 1M, Artifact: 10M</li>
          <li><strong>Compile:</strong> Process of transferring modules to cartridge and saving circuit script.</li>
          <li><strong>Keybind:</strong> Keyboard shortcut assigned to cartridge slot. Allows instant circuit casting without opening tablet.</li>
        </ul>

        <h4>Modules & Actions</h4>
        <ul>
          <li><strong>Module:</strong> Action provider that adds methods to your Lua environment. Installed into tablet's module slots.</li>
          <li><strong>Module Rarity:</strong> Rare/Epic/Legendary/Artifact. Determines FE cost per method call and power level.</li>
          <li><strong>Action Method:</strong> Function provided by module. Examples: burn(target, duration), explode(radius), teleport(coords)</li>
          <li><strong>Module List GUI:</strong> Right-side panel showing installed modules available for use in circuits.</li>
          <li><strong>Available Module:</strong> Module visible in tablet's right-side GUI. Not yet compiled into circuit.</li>
          <li><strong>Compiled Module:</strong> Module bound to circuit script. Disappears from right-side GUI after compilation.</li>
        </ul>

        <h4>Tablet Interface</h4>
        <ul>
          <li><strong>Left Terminal:</strong> Normal CC:Tweaked Lua coding interface. Write circuit scripts here.</li>
          <li><strong>Right Module GUI:</strong> Shows installed modules (available for compilation).</li>
          <li><strong>Top-Left Cartridge Buttons:</strong> Click to access circuit cartridge inventory and switch active circuit.</li>
          <li><strong>Bottom FE Indicator:</strong> Shows current FE charge and capacity.</li>
          <li><strong>Shift+Right Click:</strong> Opens tablet interface for programming.</li>
          <li><strong>Right Click:</strong> Casts active cartridge circuit instantly.</li>
        </ul>

        <h4>CC:Tweaked Integration</h4>
        <ul>
          <li><strong>Workbench Peripheral:</strong> CC:Tweaked peripheral interface for tablet operations (relic_workbench).</li>
          <li><strong>Scanner Peripheral:</strong> Structure detection tool. Returns coordinates (relic_scanner).</li>
          <li><strong>Disk Drive:</strong> Saves/loads circuit scripts and blueprints as JSON/Lua files on floppy disks.</li>
          <li><strong>Monitor:</strong> Text-based display (51×19 standard) for status dashboards.</li>
        </ul>

        <h4>Power & Resources</h4>
        <ul>
          <li><strong>FE (Forge Energy):</strong> Power system for all operations. Exponential scaling (10^n).</li>
          <li><strong>Cerulite:</strong> Early-game resource from loot crates. Crafts basic tools.</li>
          <li><strong>Chronite:</strong> Mid-game rare resource. Time-manipulation properties.</li>
          <li><strong>Muon Crystal:</strong> Late-game exotic resource. High-energy physics.</li>
          <li><strong>Neutrino Core:</strong> Endgame ultimate resource. Reality-bending material.</li>
        </ul>

        <h4>Structures</h4>
        <ul>
          <li><strong>Ruins:</strong> Worldgen structures containing loot, puzzles, or minigames.</li>
          <li><strong>Vault:</strong> Sealed structure requiring Vault Key. Contains Artifacts.</li>
          <li><strong>QLR (Quantum Logic Recalibrator):</strong> Structure for unbinding soulbound items (except Relics).</li>
          <li><strong>Cerulite Crate:</strong> Early-game loot container with basic resources.</li>
        </ul>

        <h4>Progression</h4>
        <ul>
          <li><strong>Vault Key:</strong> Crafted item required to open Vault structures. Expensive recipe.</li>
          <li><strong>Affixes:</strong> Random stat bonuses/penalties on items. Rerollable via resources.</li>
          <li><strong>Minigame:</strong> Interactive puzzle found in ruins. Rewards include blueprints or resources.</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="core-systems" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-cogs"></i> Core Systems</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Workbench System</h3>
        <p>The central hub for all item operations. <strong>Requires CC:Tweaked computer as peripheral.</strong></p>

        <h4>Workbench Features</h4>
        <ul>
          <li><strong>Private Instancing:</strong> Each workbench is private to owner. No theft during modification.</li>
          <li><strong>Only Accepts Mod Items:</strong> Built-in anti-duping. Cannot modify vanilla items.</li>
          <li><strong>Compile Queue System:</strong> Multiple operations queued. Lua scripts manage priority.</li>
          <li><strong>Repair Operations:</strong> ONLY way to repair items. Requires resources + FE.</li>
          <li><strong>Blueprint Management:</strong> Save/load via disk drive peripheral.</li>
        </ul>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>NO GUI:</strong> Workbench has no built-in interface. All operations via Lua scripts and CC:Tweaked APIs.
          </div>
        </div>

        <h3>Soulbinding System</h3>
        <p>Protection mechanism for valuable items.</p>

        <h4>Auto-Soulbinding (Relics)</h4>
        <ul>
          <li>Triggers on first pickup</li>
          <li>Cannot be reversed</li>
          <li>Stores player UUID, name, timestamp</li>
        </ul>

        <h4>Manual Soulbinding (All Other Items)</h4>
        <ul>
          <li>Craft Soulbind Module (4 Chronite + 2 Vault Key fragments + 1 Muon Crystal + 1 Neutrino Core)</li>
          <li>Apply via modification grid</li>
          <li>Can be removed at QLR structure (500k FE + materials + 10 min)</li>
        </ul>

        <h3>Durability System</h3>
        <p>All mod items (except Relics/Artifacts) have custom durability.</p>

        <h4>Durability Rules</h4>
        <ul>
          <li>Items break when durability reaches 0</li>
          <li>Broken items drop as "Broken [Item]" - cannot be used</li>
          <li>Repair ONLY at workbench via Lua scripts</li>
          <li>Repair cost scales with rarity: Common = cheap, Legendary = expensive</li>
        </ul>

        <h3>Trading System</h3>
        <p>Physical disk-based economy.</p>

        <h4>Blueprint Trading</h4>
        <ul>
          <li>Save blueprint to floppy disk (JSON file)</li>
          <li>Trade disk physically to other players</li>
          <li>Network via modems for remote blueprint sharing</li>
          <li>No built-in "marketplace" - player-driven economy</li>
        </ul>

        <h3>Anti-Duping Measures</h3>
        <ul>
          <li>Workbench only accepts items with mod's NBT tags</li>
          <li>Artifacts world-seed bound (hash stored in NBT)</li>
          <li>Lineage tracking: creation timestamp, creator UUID, modification history</li>
          <li>Server-side validation on all operations</li>
        </ul>

        <h3>Quantum Energy Link System</h3>
        <p>Wireless FE/RF power transfer for turtles and devices. Essential for powering circuit execution in remote locations.</p>

        <h4>Block Types</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Block</th>
                <th>Purpose</th>
                <th>Placement</th>
                <th>Max Networks</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Quantum Energy Source</strong></td>
                <td>Connects to FE/RF cables, creates power networks</td>
                <td>Adjacent to energy source (cables, generators, batteries)</td>
                <td>8 networks per source</td>
              </tr>
              <tr>
                <td><strong>Quantum Energy Point</strong></td>
                <td>Receives power wirelessly, placed in turtle peripheral slots</td>
                <td>Turtle peripheral slot (1 of 4 slots)</td>
                <td>1 network per point</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Network Pairing Process</h4>
        <ol>
          <li><strong>Place Quantum Energy Source:</strong> Adjacent to FE/RF energy source (cables, generators, capacitors)</li>
          <li><strong>Create Network:</strong> Right-click source block to open GUI
            <ul>
              <li>Click "Create Network" button</li>
              <li>Enter network name (e.g., "Mining Turtle Network")</li>
              <li>Set max FE/t transfer rate (100, 1000, 10000, 100000, 1000000 FE/t)</li>
              <li>Network assigned unique UUID and stored in source block NBT</li>
            </ul>
          </li>
          <li><strong>Pair Quantum Energy Point:</strong>
            <ul>
              <li>Right-click point block (before placing in turtle) to open GUI</li>
              <li>GUI shows all networks created by player (reads from world data)</li>
              <li>Select network from list</li>
              <li>Network UUID written to point block NBT</li>
            </ul>
          </li>
          <li><strong>Install Point in Turtle:</strong> Place paired point block into turtle peripheral slot (slot 1-4)</li>
          <li><strong>Power Transfer Active:</strong> Turtle can now execute circuits using wireless FE from source</li>
        </ol>

        <h4>Turtle Peripheral Slots</h4>
        <p>Modified turtles have <strong>4 peripheral slots</strong> for upgrading capabilities:</p>
        <ul>
          <li><strong>Slot 1:</strong> Quantum Energy Point (power)</li>
          <li><strong>Slot 2:</strong> Wireless Modem, Ender Modem, Advanced Peripheral Environment Detector, etc.</li>
          <li><strong>Slot 3:</strong> Pickaxe, Shovel, Hoe, Weapon upgrades</li>
          <li><strong>Slot 4:</strong> Additional utility (Chunk Loader Peripheral, Scanner, etc.)</li>
        </ul>

        <div class="alert alert-info">
          <i class="fas fa-info-circle"></i>
          <div>
            <strong>Cross-Dimensional Power:</strong> Quantum Energy Links work across dimensions. Create network in Overworld, use power in Nether/End. No distance limit.
          </div>
        </div>

        <h4>Energy Source Tiers</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Tier</th>
                <th>Max FE/t Transfer</th>
                <th>Max Simultaneous Points</th>
                <th>Crafting Cost</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge bg-secondary">Basic</span></td>
                <td>10,000 FE/t</td>
                <td>4 points</td>
                <td>Iron + Cerulite + Redstone</td>
              </tr>
              <tr>
                <td><span class="badge badge-uncommon">Advanced</span></td>
                <td>100,000 FE/t</td>
                <td>8 points</td>
                <td>Gold + Chronite + Ender Pearl</td>
              </tr>
              <tr>
                <td><span class="badge badge-rare">Elite</span></td>
                <td>1,500,000 FE/t</td>
                <td>16 points</td>
                <td>Diamond + Muon Crystal + Eye of Ender</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Master</span></td>
                <td>15,000,000 FE/t</td>
                <td>32 points</td>
                <td>Netherite + Neutrino Core + Nether Star</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3>Portable Battery System (Early Game)</h3>
        <p>Alternative to Quantum Energy Links for players without FE infrastructure. <strong>WARNING: All batteries suffer from passive energy drain.</strong></p>

        <h4>Battery Tiers</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Battery</th>
                <th>Capacity</th>
                <th>Drain Rate</th>
                <th>Drain per Tick</th>
                <th>Full Drain Time</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge bg-secondary">Basic Battery</span></td>
                <td>1,000,000 FE</td>
                <td>0.01% per tick</td>
                <td>100 FE/t</td>
                <td>~8 minutes</td>
              </tr>
              <tr>
                <td><span class="badge badge-uncommon">Advanced Battery</span></td>
                <td>100,000,000 FE</td>
                <td>0.01% per tick</td>
                <td>10,000 FE/t</td>
                <td>~8 minutes</td>
              </tr>
              <tr>
                <td><span class="badge badge-rare">Elite Battery</span></td>
                <td>1,000,000,000 FE</td>
                <td>0.01% per tick</td>
                <td>100,000 FE/t</td>
                <td>~8 minutes</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Master Battery</span></td>
                <td>10,000,000,000 FE</td>
                <td>0.01% per tick</td>
                <td>1,000,000 FE/t</td>
                <td>~8 minutes</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="alert alert-danger">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Battery Drain Warning:</strong> Batteries lose 0.01% of their current charge per tick (20 ticks/second). A full battery will completely drain in ~8 minutes regardless of tier. Use Quantum Energy Links for long-term operations.
          </div>
        </div>

        <h4>Battery Recharging</h4>
        <ul>
          <li><strong>Workbench Charging:</strong> Place battery in workbench GUI, connect to FE source via peripheral</li>
          <li><strong>Charging Station:</strong> Dedicated block that charges batteries at 10,000 FE/t (crafted with Chronite + Redstone)</li>
          <li><strong>Quantum Energy Source Charging:</strong> Right-click source with battery to charge directly from network</li>
          <li><strong>No Passive Charging:</strong> Batteries do NOT charge in turtle peripheral slots, only discharge</li>
        </ul>

        <h4>Battery vs Quantum Energy Link</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>Battery</th>
                <th>Quantum Energy Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Cost</td>
                <td>Cheap (early game)</td>
                <td>Expensive (mid-late game)</td>
              </tr>
              <tr>
                <td>Setup</td>
                <td>None (just insert)</td>
                <td>Requires network pairing</td>
              </tr>
              <tr>
                <td>Energy Drain</td>
                <td>0.01% per tick (passive)</td>
                <td>None (infinite while source has FE)</td>
              </tr>
              <tr>
                <td>Recharge</td>
                <td>Manual (remove, charge, replace)</td>
                <td>Automatic (continuous from source)</td>
              </tr>
              <tr>
                <td>Best For</td>
                <td>Short-term tasks, early game</td>
                <td>Long-term automation, late game</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div id="cc-tweaked" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-laptop-code"></i> CC:Tweaked Peripheral APIs</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Workbench Peripheral</h3>
        <p><strong>Peripheral Name:</strong> <code>relic_workbench</code></p>
        <p><strong>Connection Required:</strong> Must be adjacent to Computer/Advanced Computer</p>

        <div class="alert alert-danger">
          <i class="fas fa-user-lock"></i>
          <div>
            <strong>CRITICAL: Workbench Instancing</strong><br>
            • Each workbench is private to the player who placed it<br>
            • Other players cannot see or access items in your workbench<br>
            • Prevents theft of items during modification<br>
            • Attempting to access another player's bench shows: "This workbench belongs to [PlayerName]"<br>
            • Owner can grant access via /relics grant &lt;player&gt; &lt;workbench_coords&gt;<br>
            • Granted access can be revoked: /relics revoke &lt;player&gt; &lt;workbench_coords&gt;
          </div>
        </div>

        <h4>Basic Methods</h4>
        <pre><code class="language-lua">local bench = peripheral.find("relic_workbench")

-- Status checks
bench.isOnline() --> boolean
bench.isModifying() --> boolean
bench.isRepairing() --> boolean

-- FE information
bench.getFEStored() --> number
bench.getFECapacity() --> number
bench.getFEThroughput() --> number (current FE/t available)
bench.getFERequired() --> number (FE/t needed for current setup)

-- Item information
bench.getModifyingItem() --> table or nil
-- Returns: {name="relics:ballistic_rifle", rarity="epic", durability={current=2500, max=2500}}

bench.getModules() --> table (array of 8 module slots)
-- Returns: {{slot=1, module="relics:damage_amp_3"}, {slot=2, module="relics:fire_rate_2"}, ...}

bench.getRelicSocket() --> table or nil
-- Returns: {name="relics:overcap_seal", description="..."}

-- Modify operations
bench.getSuccessChance() --> number (0-100)
bench.getModifyProgress() --> number (0.0-1.0)
bench.getModifyTimeRemaining() --> number (seconds)
bench.startModify() --> boolean, string (success, error message)
bench.cancelModify() --> boolean

-- Blueprint operations
bench.exportBuild() --> table (Lua table representation)
bench.importBuild(buildTable) --> boolean, string (success, error)

-- Repair operations
bench.getItemDurability(slot) --> table or nil
-- Returns: {current=1500, max=2500, percent=60}

bench.getRepairRequirements(slot) --> table or nil
-- Returns: {
--   feCost=50000,
--   materials={{item="relics:titanium_ingot", count=2}, ...},
--   repairAmount=500,
--   time=60
-- }

bench.startRepair(slot) --> boolean, string
bench.getRepairProgress() --> number (0.0-1.0)
bench.getRepairTimeRemaining() --> number (seconds)

-- Advanced information
bench.getFERequirements() --> table
-- Returns: {
--   base=100,
--   moduleMultiplier=1.36,
--   rarityMultiplier=4,
--   modificationWeight=3.5,
--   total=3280
-- }

bench.getStatistics() --> table
-- Returns: {
--   totalCompiles=47,
--   successfulCompiles=43,
--   failedCompiles=4,
--   successRate=91.5,
--   totalRepairs=12
-- }

-- Soulbinding information (Relics/Artifacts only)
bench.getItemSoulbind(slot) --> table or nil
-- Returns: {
--   bound=true,
--   owner_uuid="550e8400-e29b-41d4-a716-446655440000",
--   owner_name="PlayerName",
--   bind_timestamp=1735977600,
--   is_creative_copy=false,
--   return_timer=180 -- seconds until auto-return (if held by non-owner)
-- } or nil if item not soulbound

bench.isItemUsableByPlayer(slot, playerName) --> boolean
-- Returns true if player can use/equip the item
-- Returns false for soulbound items not owned by playerName</code></pre>

        <h3>Scanner Peripheral</h3>
        <p><strong>Peripheral Name:</strong> <code>relic_scanner</code></p>
        <p><strong>Connection Options:</strong></p>
        <ol>
          <li>Scanner in player inventory (player within 3 blocks of computer)</li>
          <li>Scanner placed as block (Scanner Station) adjacent to computer</li>
        </ol>

        <h4>Basic Scanner Methods</h4>
        <pre><code class="language-lua">local scanner = peripheral.find("relic_scanner")

-- Scan for ruins
scanner.scan() --> boolean, string (success, error)
-- Triggers scan, results retrieved with getResults()

scanner.getResults() --> table or nil
-- Returns array of ruins within range
-- Each entry: {
--   x = 1234,      -- Approximate X (random within chunk)
--   y = 45,        -- Approximate Y (±5 blocks)
--   z = -678,      -- Approximate Z (random within chunk)
--   chunkX = 77,   -- Exact chunk X
--   chunkZ = -42,  -- Exact chunk Z
--   distance = 523,-- Blocks from scanner
--   type = "unknown" -- Basic scanner doesn't know type
-- }

scanner.getCooldown() --> number (seconds remaining)
scanner.getFECost() --> number (FE needed for next scan)
scanner.getFEStored() --> number
scanner.canScan() --> boolean (true if charged and off cooldown)

-- Range and settings
scanner.getRange() --> number (blocks)
scanner.getTier() --> string ("basic", "advanced", or "pandora")</code></pre>

        <h4>Advanced Scanner Additional Methods</h4>
        <pre><code class="language-lua">-- Advanced scanner reveals actual information
scanner.getResults() --> table
-- Returns: {
--   x = 1234,      -- Exact X coordinate
--   y = 45,        -- Exact Y coordinate
--   z = -678,      -- Exact Z coordinate
--   chunkX = 77,
--   chunkZ = -42,
--   distance = 523,
--   type = "crate", -- "crate", "qlr", or "vault"
--   biome = "minecraft:plains",
--   depthCategory = "underground" -- "surface", "underground", "deep"
-- }

-- Biome filtering
scanner.setBiomeWhitelist(biomes) --> boolean
-- Example: scanner.setBiomeWhitelist({"minecraft:plains", "minecraft:forest"})

scanner.setBiomeBlacklist(biomes) --> boolean
scanner.clearBiomeFilter() --> boolean
scanner.getBiomeFilter() --> table</code></pre>

        <h4>Pandora Lens Additional Methods</h4>
        <pre><code class="language-lua">-- Pandora Lens (Artifact scanner)
scanner.getResults() --> table
-- Same as advanced, plus:
-- {
--   ... (all advanced fields),
--   vaultResonance = true,     -- true if Vault structure
--   containsArtifact = true,   -- Vault has unclaimed Artifact
--   estimatedLoot = "legendary", -- Best loot tier estimate
--   safetyRating = 3           -- 1-5, difficulty/danger level
-- }

scanner.getCharges() --> number (remaining daily charges)
scanner.getMaxCharges() --> number (5 by default)
scanner.getChargeResetTime() --> number (seconds until dawn reset)

-- Breadcrumb trail (stores waypoints to found ruins)
scanner.getBreadcrumbs() --> table (array of previously found ruin coords)
scanner.clearBreadcrumbs() --> boolean</code></pre>

        <h3>FE Monitor Peripheral</h3>
        <p><strong>Peripheral Name:</strong> <code>fe_monitor</code></p>
        <p><strong>Connection:</strong> Must be adjacent to computer and connected to FE network</p>

        <pre><code class="language-lua">local power = peripheral.find("fe_monitor")

-- Network statistics
power.getNetworkFE() --> table
-- Returns: {stored=5000000, capacity=10000000, percent=50}

power.getGenerationRate() --> number (FE/t being generated)
power.getConsumptionRate() --> number (FE/t being consumed)
power.getNetRate() --> number (generation - consumption)

-- Connected device information
power.getDevices() --> table
-- Returns array: {
--   {name="relic_workbench", position={x=100,y=64,z=200}, consumption=3280},
--   {name="neutrino_condenser", position={x=102,y=64,z=200}, consumption=100},
--   ...
-- }

power.getDeviceCount() --> number

-- Historical data (limited by CC:Tweaked memory)
power.getAverageFE(seconds) --> number (average FE stored over time period)
power.getAverageGeneration(seconds) --> number
power.getAverageConsumption(seconds) --> number

-- Alerts (event-based)
power.setLowFEAlert(percent) --> boolean
-- Triggers "fe_alert" event when FE drops below threshold

power.setHighLoadAlert(percent) --> boolean
-- Triggers "fe_alert" event when consumption exceeds generation by threshold

power.clearAlerts() --> boolean</code></pre>
      </div>
    </div>
  </div>

  <div id="modification-system" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-project-diagram"></i> Module & Circuit System</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Overview</h3>
        <p>The module system allows you to install modules into devices at the workbench, then write Lua circuits that use those modules. When you compile a circuit to a cartridge, the modules are transferred from the device to the cartridge, binding them to your circuit permanently.</p>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Example Build:</strong> Install burn (Epic) and explode (Legendary) modules into your tablet at the workbench. Write unrestricted Lua code calling burn() and explode() methods. Compile to cartridge → modules transfer. Execute circuit: costs 5% FE/tick + 100k FE (burn) + 1M FE (explode). Bind to key "R" for instant casting.
          </div>
        </div>

        <h3>How It Works</h3>
        <ol>
          <li><strong>Install Modules:</strong> At the workbench, install action modules from your inventory into the device's module slots</li>
          <li><strong>Write Unrestricted Lua:</strong> Code any Lua logic you want. Call module methods like burn(), explode(), teleport() for effects</li>
          <li><strong>Compile to Cartridge:</strong> Run compile command → Modules transfer from device to cartridge → Circuit becomes executable</li>
          <li><strong>Execute with FE Cost:</strong> Circuit runs with 5% FE/tick drain + one-time FE cost per module method call</li>
          <li><strong>Recover Modules:</strong> Decompile cartridge to get modules back (destroys cartridge)</li>
        </ol>

        <h3>Module & Circuit Flow</h3>
        <p><strong>This diagram shows how modules flow through the system from installation to execution.</strong></p>
        <div class="diagram-container" id="flowDiagram"></div>

        <h3>Module Slot Limits by Tablet Tier</h3>
        <div class="table-responsive">
          <table class="table">
            <thead>
            <tr>
              <th>Tablet Tier</th>
              <th>Basic Modules</th>
              <th>Uncommon</th>
              <th>Rare</th>
              <th>Epic</th>
              <th>Legendary</th>
              <th>FE Capacity</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td><span class="badge bg-secondary">Basic Tablet</span></td>
              <td>2</td>
              <td>0</td>
              <td>0</td>
              <td>0</td>
              <td>0</td>
              <td>10k FE</td>
            </tr>
            <tr>
              <td><span class="badge badge-rare">Advanced Tablet</span></td>
              <td>4</td>
              <td>2</td>
              <td>0</td>
              <td>0</td>
              <td>0</td>
              <td>50k FE</td>
            </tr>
            <tr>
              <td><span class="badge badge-epic">Elite Tablet</span></td>
              <td>6</td>
              <td>3</td>
              <td>2</td>
              <td>0</td>
              <td>0</td>
              <td>250k FE</td>
            </tr>
            <tr>
              <td><span class="badge badge-legendary">Master Tablet</span></td>
              <td>8</td>
              <td>4</td>
              <td>3</td>
              <td>2</td>
              <td>0</td>
              <td>1M FE</td>
            </tr>
            <tr>
              <td><span class="badge badge-artifact">Artifact Tablet</span></td>
              <td>10</td>
              <td>5</td>
              <td>4</td>
              <td>3</td>
              <td>2</td>
              <td>10M FE</td>
            </tr>
            </tbody>
          </table>
        </div>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Upgrade Path:</strong> Tablets can be upgraded at workbench. Higher tiers require more expensive materials and FE. Upgrades preserve installed modules and compiled circuits.
          </div>
        </div>

        <h3>FE Cost System</h3>
        <div class="row">
          <div class="col-md-6">
            <h4><i class="fas fa-bolt text-warning"></i> Execution Costs</h4>
            <ul>
              <li><strong>5% FE Per Tick:</strong> Constant drain while circuit code executes</li>
              <li><strong>Natural Loop Prevention:</strong> Infinite loops run out of FE automatically</li>
              <li><strong>Example:</strong> 1M FE capacity = 20 ticks max execution (20,000 FE at 5%/tick = 1M FE)</li>
              <li><strong>Optimization:</strong> Faster code = less FE consumed</li>
            </ul>
          </div>
          <div class="col-md-6">
            <h4><i class="fas fa-fire text-danger"></i> Module Method Costs</h4>
            <ul>
              <li><strong>Rare:</strong> 10,000 FE per method call</li>
              <li><strong>Epic:</strong> 100,000 FE per method call</li>
              <li><strong>Legendary:</strong> 1,000,000 FE per method call</li>
              <li><strong>Artifact:</strong> 10,000,000 FE per method call</li>
            </ul>
          </div>
        </div>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Example Calculation:</strong><br>
            Circuit with burn() [Epic] + explode() [Legendary] running for 10 ticks:<br>
            • Tick cost: 10 ticks × 5% × 1M FE capacity = 500k FE<br>
            • Method costs: 100k (burn) + 1M (explode) = 1.1M FE<br>
            • <strong>Total: 1.6M FE</strong>
          </div>
        </div>

        <h3>Module Types (Action-Based)</h3>
        <p>Modules provide action methods that can be called from unrestricted Lua code. Each module type offers specific methods with FE costs.</p>

        <div class="row">
          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-danger">
              <h4><i class="fas fa-fire"></i> Effect Modules (Rare/Epic)</h4>
              <p><strong>Purpose:</strong> Apply status effects to entities</p>
              <p><strong>FE Cost:</strong> Rare: 10k FE, Epic: 100k FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>burn(target, duration)</code> - Set entity on fire (Epic)</li>
                <li><code>wither(target, duration)</code> - Apply wither effect (Epic)</li>
                <li><code>poison(target, duration)</code> - Poison entity (Rare)</li>
                <li><code>freeze(target, duration)</code> - Slow and freeze entity (Rare)</li>
                <li><code>levitation(target, duration)</code> - Float entity (Rare)</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-primary">
              <h4><i class="fas fa-wind"></i> Force Modules (Rare/Epic)</h4>
              <p><strong>Purpose:</strong> Apply physics forces to entities</p>
              <p><strong>FE Cost:</strong> Rare: 10k FE, Epic: 100k FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>applyForce(entity, vector)</code> - Push entity with vector (Rare)</li>
                <li><code>knockback(entity, strength)</code> - Push entity away (Rare)</li>
                <li><code>pullToward(entity, strength)</code> - Pull entity toward caster (Epic)</li>
                <li><code>launch(entity, height)</code> - Launch entity upward (Epic)</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-warning">
              <h4><i class="fas fa-bomb"></i> Explosion Modules (Legendary)</h4>
              <p><strong>Purpose:</strong> Create explosive effects</p>
              <p><strong>FE Cost:</strong> Legendary: 1M FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>explode(radius)</code> - Create explosion at position</li>
                <li><code>implosion(radius)</code> - Pull entities inward then explode</li>
                <li><code>chainExplosion(count, delay)</code> - Multiple explosions over time</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-danger">
              <h4><i class="fas fa-skull"></i> Damage Modules (Rare)</h4>
              <p><strong>Purpose:</strong> Deal damage to entities</p>
              <p><strong>FE Cost:</strong> Rare: 10k FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>dealDamage(target, amount)</code> - Direct damage</li>
                <li><code>magicDamage(target, amount)</code> - Bypasses armor</li>
                <li><code>trueDamage(target, amount)</code> - Bypasses all resistances</li>
                <li><code>percentDamage(target, percent)</code> - % of max health</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-info">
              <h4><i class="fas fa-crosshairs"></i> Targeting Modules (Rare)</h4>
              <p><strong>Purpose:</strong> Find and select entities</p>
              <p><strong>FE Cost:</strong> Rare: 10k FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>raycast(distance)</code> - Get entity in line of sight</li>
                <li><code>findEntitiesInRadius(radius)</code> - Get all entities in area</li>
                <li><code>findNearestEnemy()</code> - Get closest hostile entity</li>
                <li><code>findPlayer(name)</code> - Get specific player</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-legendary">
              <h4><i class="fas fa-portal"></i> Teleport Modules (Legendary)</h4>
              <p><strong>Purpose:</strong> Teleport entities or caster</p>
              <p><strong>FE Cost:</strong> Legendary: 1M FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>teleport(coords)</code> - Teleport to coordinates</li>
                <li><code>swap(entity1, entity2)</code> - Swap two entity positions</li>
                <li><code>blink(direction, distance)</code> - Short-range teleport</li>
                <li><code>recall()</code> - Return to spawn point</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-success">
              <h4><i class="fas fa-shield-alt"></i> Shield Modules (Epic/Legendary)</h4>
              <p><strong>Purpose:</strong> Create protective barriers</p>
              <p><strong>FE Cost:</strong> Epic: 100k FE, Legendary: 1M FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>createShield(duration)</code> - Personal shield (Epic)</li>
                <li><code>reflectDamage(percent, duration)</code> - Reflect damage back (Legendary)</li>
                <li><code>absorbShield(maxDamage)</code> - Absorb up to X damage (Epic)</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-artifact">
              <h4><i class="fas fa-bolt"></i> Chain Lightning Module (Epic)</h4>
              <p><strong>Purpose:</strong> Lightning that chains between enemies</p>
              <p><strong>FE Cost:</strong> Epic: 100k FE</p>
              <p><strong>Methods:</strong></p>
              <ul>
                <li><code>chainLightning(target, chainCount, damageReduction)</code></li>
                <li>Hits target, then jumps to nearby enemies</li>
                <li>Each chain deals reduced damage</li>
              </ul>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-epic" style="border: 2px solid #8b5cf6;">
              <h4><i class="fas fa-infinity"></i> Exponent Clipper Modules (Epic/Legendary)</h4>
              <p><strong>Purpose:</strong> Lock FE drain to flat rate, removing exponential growth</p>
              <p><strong>FE Cost:</strong> No method calls (passive effect)</p>
              <p><strong>Modules:</strong></p>
              <ul>
                <li><span class="badge badge-epic">Sustain Module (Epic)</span>: Clips drain to 0.5% per tick (constant)</li>
                <li><span class="badge badge-legendary">Eternity Module (Legendary)</span>: Clips drain to 0.1% per tick (ultra-long circuits)</li>
              </ul>
              <p><strong>Use Case:</strong> Complex circuits that need guaranteed execution time without exponential FE drain. Essential for long-running autonomous scripts or multi-step spell sequences.</p>
              <div class="alert alert-info mt-2 mb-0">
                <i class="fas fa-lightbulb"></i>
                <small><strong>Example:</strong> A 100-step spell sequence would normally drain exponentially. With Sustain Module, it drains 0.5% every tick regardless of duration.</small>
              </div>
            </div>
          </div>
        </div>

        <h3>Unrestricted Lua Programming</h3>
        <p>Write any Lua code you want. Modules provide action methods. No code restrictions!</p>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Design Philosophy:</strong> Modules installed at workbench provide methods. Write unrestricted Lua code calling those methods. FE costs naturally prevent abuse.
          </div>
        </div>

        <h4>Basic Circuit Structure</h4>
        <pre><code class="language-lua">-- Create projectile circuit
local circuit = Projectile.new("fireball")

-- Define parameters (UNRESTRICTED - any values!)
local baseDamage = 50
local burnTime = 10
local explosionRadius = 5

-- Use normal Lua control flow
local critChance = 0.3
if math.random() < critChance then
  baseDamage = baseDamage * 2
end

-- Define impact behavior with module methods
circuit:onImpact(function(target)
  -- Call module methods (each costs FE)
  burn(target, burnTime)       -- Epic module: 100k FE
  dealDamage(target, baseDamage) -- Rare module: 10k FE
  explode(explosionRadius)      -- Legendary: 1M FE
end)

-- Compile to cartridge
circuit:compile("Fireball", 1)

-- Execution cost:
-- 5% FE/tick + 100k + 10k + 1M = ~1.11M FE total</code></pre>

        <h4>Advanced Example: Conditional Logic</h4>
        <pre><code class="language-lua">-- Install: raycast (Rare), burn (Epic), freeze (Rare), dealDamage (Rare)

local circuit = Instant.new("adaptive_spell")

circuit:onCast(function(caster)
  -- Get target using raycast module (10k FE)
  local target = raycast(50)

  if not target then
    print("No target found")
    return
  end

  -- Adaptive logic based on target health
  if target.health > 100 then
    -- High health: burn over time
    burn(target, 15)  -- Epic: 100k FE
    print("Applied burn to high-HP target")
  elseif target.health > 50 then
    -- Medium health: burst damage
    dealDamage(target, 80)  -- Rare: 10k FE
    print("Dealt burst damage")
  else
    -- Low health: freeze and finish
    freeze(target, 5)  -- Rare: 10k FE
    dealDamage(target, 40)  -- Rare: 10k FE
    print("Froze and finished low-HP target")
  end
end)

circuit:compile("Adaptive Spell", 1)</code></pre>

        <h4>Example: Loops (Natural FE Prevention)</h4>
        <pre><code class="language-lua">-- This infinite loop is SAFE - runs out of FE automatically!

local circuit = Area.new("chain_reaction")

circuit:onCast(function(caster)
  local entities = findEntitiesInRadius(10)  -- Rare: 10k FE

  -- Loop through all enemies
  for i, entity in ipairs(entities) do
    dealDamage(entity, 25)  -- Rare: 10k FE per call

    -- Each iteration costs 10k FE
    -- 1M FE capacity = max ~100 entities before FE runs out
  end

  print("Damaged " .. #entities .. " entities")
end)

-- Even if entities list is huge, FE runs out before breaking anything
-- Natural protection against infinite loops!</code></pre>

        <h3>Circuit Cartridge System</h3>
        <p>Tablets can store multiple compiled circuits in cartridge slots.</p>

        <h4>Cartridge Interface</h4>
        <ul>
          <li><strong>Left-Side Buttons:</strong> Access circuit cartridge inventory (GUI overlay)</li>
          <li><strong>Cartridge Slots:</strong> 6 slots (expandable with upgrades)</li>
          <li><strong>Active Slot:</strong> Highlighted cartridge is the active circuit</li>
          <li><strong>Swap Circuits:</strong> Click cartridge button to switch active circuit</li>
        </ul>

        <h4>Tablet Interaction Model</h4>
        <div class="row">
          <div class="col-md-6">
            <div class="card bg-dark border-primary">
              <h4><i class="fas fa-hand-pointer"></i> Shift + Right Click</h4>
              <p><strong>Action:</strong> Opens Pocket Tablet interface</p>
              <ul>
                <li>Left side: Lua coding terminal (normal CC:Tweaked)</li>
                <li>Right side: Installed modules GUI</li>
                <li>Top-left: Cartridge slot buttons</li>
                <li>Bottom: FE charge indicator</li>
              </ul>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card bg-dark border-success">
              <h4><i class="fas fa-bolt"></i> Right Click</h4>
              <p><strong>Action:</strong> Casts active cartridge circuit</p>
              <ul>
                <li>Executes compiled circuit in active slot</li>
                <li>Consumes FE based on circuit complexity</li>
                <li>Cooldown applies (if defined in circuit)</li>
                <li>Shows circuit name in chat/action bar</li>
              </ul>
            </div>
          </div>
        </div>

        <h4>Keybind System</h4>
        <p>Players can bind circuits to keyboard shortcuts for instant casting without opening tablet.</p>

        <pre><code class="language-lua">-- In tablet settings (accessed via special menu)
tablet.bindCircuit(1, "R")  -- Cartridge 1 → Key R
tablet.bindCircuit(2, "F")  -- Cartridge 2 → Key F
tablet.bindCircuit(3, "G")  -- Cartridge 3 → Key G

-- Now pressing R/F/G casts corresponding circuit
-- Tablet detects keypresses even when closed
-- Requires tablet in inventory or equipped in Curios slot</code></pre>

        <div class="alert alert-success">
          <i class="fas fa-keyboard"></i>
          <div>
            <strong>Keybind Listening:</strong> Tablet monitors player keypresses in background. When bound key pressed, circuit auto-fires (costs FE + respects cooldowns).
          </div>
        </div>

        <h4>Cartridge Management</h4>
        <pre><code class="language-lua">-- Writing circuit to cartridge slot
circuit:compile("Fireball", 1)  -- Slot 1

-- Overwriting existing circuit
circuit:compile("Mega Fireball", 1)  -- Replaces previous circuit in slot 1

-- Clearing cartridge slot
tablet.clearCartridge(1)

-- Querying cartridge info
local info = tablet.getCartridge(1)
-- Returns: {name="Fireball", feCost=5000, cooldown=2.0, lastCast=0}

-- Setting active cartridge
tablet.setActiveCartridge(3)  -- Switch to slot 3</code></pre>

        <h3>Soulbind Module Application</h3>
        <div class="card bg-dark border-legendary">
          <h4><i class="fas fa-lock"></i> Soulbind Module Card (Legendary, Special)</h4>
          <ul>
            <li>Does NOT count toward modification limits</li>
            <li>Can only be placed once per item</li>
            <li>Must be in grid during compile to apply soulbinding</li>
            <li>Once compiled with Soulbind Module, item becomes permanently soulbound</li>
            <li>Cannot be removed after compile</li>
          </ul>

          <h4>Crafting Soulbind Module</h4>
          <ul>
            <li>4 Chronite Crystals</li>
            <li>2 Vault Key Fragments</li>
            <li>1 Stabilized Muon Crystal</li>
            <li>1 Condensed Neutrino Core</li>
          </ul>

          <h4>Placement</h4>
          <ul>
            <li>Place anywhere in grid (typically corner)</li>
            <li>No arrows needed (passive effect)</li>
            <li>Visual indicator shows "SOULBIND ACTIVE" when present</li>
          </ul>

          <div class="alert alert-danger">
            <i class="fas fa-exclamation-triangle"></i>
            <div>
              <strong>Warning on Compile:</strong><br>
              WARNING: Soulbind Module detected!<br>
              This item will be permanently bound to you after compile.<br>
              It cannot be traded or dropped to other players.<br>
              Continue? (Y/N)
            </div>
          </div>
        </div>

        <h3>Workbench Lua API</h3>
        <pre><code class="language-lua">-- Get installed modules on device
local modules = bench.getInstalledModules()
-- Returns table of module names and rarities

for name, rarity in pairs(modules) do
  print(name .. " (" .. rarity .. ")")
end
-- Example output:
-- burn_module (Epic)
-- explode_module (Legendary)
-- raycast_module (Rare)

-- Get module slot usage
local limits = bench.getModuleLimits()
print("Rare slots: " .. limits.rare_used .. "/" .. limits.rare_slots)
print("Epic slots: " .. limits.epic_used .. "/" .. limits.epic_slots)
print("Legendary slots: " .. limits.legendary_used .. "/" .. limits.legendary_slots)

-- Check FE capacity
local capacity = bench.getFECapacity()
print("Device FE capacity: " .. capacity .. " FE")

-- Estimate circuit execution cost
local estimatedCost = tablet.estimateExecutionCost(circuitCode)
print("Estimated FE cost: " .. estimatedCost .. " FE")</code></pre>
      </div>
    </div>
  </div>

  <div id="crafting-recipes" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-hammer"></i> Crafting Recipes</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>ElderTech Crafting Recipes</h3>
        <p>Discover the ancient technology by crafting these essential items. Use vanilla Minecraft resources combined with ElderTech materials found in ruins.</p>

        <div class="alert alert-info">
          <i class="fas fa-info-circle"></i>
          <div>
            <strong>ElderTech Materials:</strong>
            <ul>
              <li><strong>Cerulite:</strong> Cyan crystal found in Common/Uncommon ruins - Basic technology component</li>
              <li><strong>Chronite:</strong> Purple crystal from Rare/Epic ruins - Time-manipulation properties</li>
              <li><strong>Muon Crystal:</strong> Pink crystal from Epic/Legendary ruins - High-energy component</li>
              <li><strong>Neutrino Core:</strong> White/prismatic core from Vault loot - Reality-bending material</li>
            </ul>
          </div>
        </div>

        <div id="recipes-display"></div>
      </div>
    </div>
  </div>

  <div id="blueprints" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-file-code"></i> Blueprints</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Blueprint System</h3>
        <p>Blueprints are JSON files saved to floppy disks that store modification grid configurations. They enable design sharing, backup, and trading.</p>

        <h4>Creating Blueprints</h4>
        <ul>
          <li>Configure modification grid at workbench</li>
          <li>Use Lua API: <code>bench.exportBuild()</code> returns Lua table</li>
          <li>Save to disk drive via <code>disk.write()</code></li>
          <li>Blueprint captures: card positions, arrows, variables, formulations</li>
        </ul>

        <h4>Blueprint Format (JSON)</h4>
        <pre><code class="language-json">{
  "blueprint_version": "7.0",
  "created_by": "PlayerName",
  "created_timestamp": 1735977600,
  "item_type": "relics:ballistic_rifle",
  "rarity": "epic",
  "grid": [
    {"x": 0, "y": 0, "card": "relics:projectile_bullet", "arrows": {"south": "output"}},
    {"x": 0, "y": 1, "card": "relics:damage_card", "arrows": {"north": "input"}},
    {"x": 0, "y": 2, "card": "relics:base_value", "min": 2, "max": 10, "arrows": {"east": "output"}},
    {"x": 1, "y": 2, "card": "relics:variable_x", "arrows": {"west": "input", "south": "output"}},
    {"x": 1, "y": 5, "card": "relics:formulation_power", "formula": "x^y", "arrows": {"north": "input"}}
  ],
  "estimated_fe": 125000,
  "estimated_time": 300
}</code></pre>

        <h4>Loading Blueprints</h4>
        <ul>
          <li>Insert floppy disk into disk drive</li>
          <li>Use Lua API: <code>bench.importBuild(buildTable)</code></li>
          <li>Workbench validates: card compatibility, grid limits, item type match</li>
          <li>Returns error if blueprint invalid for current item</li>
        </ul>

        <h4>Trading Blueprints</h4>
        <ul>
          <li>Physical trade: Give floppy disk to another player</li>
          <li>Network trade: Use modems to transmit blueprint data</li>
          <li>Server sharing: Community blueprint databases on network</li>
        </ul>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Economy Potential:</strong> Rare/optimized blueprints become valuable trade goods. Players specialize in design, others in gathering resources.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="durability" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-heart-broken"></i> Durability System</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Custom Durability</h3>
        <p>All mod items (except Relics and Artifacts) have custom durability separate from Minecraft's system.</p>

        <h4>Durability Values by Rarity</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Rarity</th>
                <th>Base Durability</th>
                <th>Repair Cost Multiplier</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge bg-secondary">Common</span></td>
                <td>500</td>
                <td>1.0x</td>
              </tr>
              <tr>
                <td><span class="badge badge-rare">Rare</span></td>
                <td>1000</td>
                <td>1.5x</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Epic</span></td>
                <td>2500</td>
                <td>3.0x</td>
              </tr>
              <tr>
                <td><span class="badge badge-legendary">Legendary</span></td>
                <td>5000</td>
                <td>6.0x</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Durability Loss</h4>
        <ul>
          <li><strong>Weapons:</strong> 1 durability per attack</li>
          <li><strong>Tools:</strong> 1 durability per block broken</li>
          <li><strong>Armor:</strong> 1 durability per damage taken (after mitigation)</li>
          <li><strong>Special abilities:</strong> 5-50 durability depending on power</li>
        </ul>

        <h4>Broken Items</h4>
        <ul>
          <li>At 0 durability, item becomes "Broken [Item Name]"</li>
          <li>Cannot be used or equipped</li>
          <li>Retains all modifications and stats</li>
          <li>Can only be repaired at workbench</li>
          <li>Tooltip shows: "BROKEN - Repair at Workbench"</li>
        </ul>

        <h4>Repair Process</h4>
        <ol>
          <li>Place broken item in workbench</li>
          <li>Query repair requirements via Lua: <code>bench.getRepairRequirements(slot)</code></li>
          <li>Gather required materials and FE</li>
          <li>Start repair: <code>bench.startRepair(slot)</code></li>
          <li>Wait for repair time (configurable)</li>
        </ol>

        <h4>Repair Materials</h4>
        <p>Required materials scale with rarity:</p>
        <ul>
          <li><strong>Common:</strong> 2 Iron Ingots, 10k FE, 30 seconds</li>
          <li><strong>Rare:</strong> 2 Cerulite Ingots, 50k FE, 60 seconds</li>
          <li><strong>Epic:</strong> 2 Chronite Crystals, 250k FE, 120 seconds</li>
          <li><strong>Legendary:</strong> 2 Muon Crystals + 1 Neutrino Core, 1M FE, 300 seconds</li>
        </ul>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>No Vanilla Repair:</strong> Cannot repair mod items on vanilla anvils. Must use workbench + Lua scripts.
          </div>
        </div>

        <h4>Relics & Artifacts</h4>
        <div class="alert alert-success">
          <i class="fas fa-infinity"></i>
          <div>
            <strong>Indestructible:</strong> Relics and Artifacts have infinite durability and never break.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="ruins" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-landmark"></i> Ruins & Discovery</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Ruin Crate System</h3>
        <p><strong>ALL ruins contain crates.</strong> The rarity of the crate determines spawn mechanics and loot quality.</p>

        <div class="alert alert-success">
          <i class="fas fa-box"></i>
          <div>
            <strong>Guaranteed Crates:</strong> Every ruin spawns at least 1 crate. More common crates have higher chances of multiple crates spawning.
          </div>
        </div>

        <h4>Crate Rarity & Spawn System</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Crate Rarity</th>
                <th>Ruin Size</th>
                <th>Min Crates</th>
                <th>Max Crates</th>
                <th>Extra Crate Chance</th>
                <th>Loot Contents</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge bg-secondary">Common</span></td>
                <td>Small (5x5x3)</td>
                <td>1</td>
                <td>5</td>
                <td>70%</td>
                <td>Basic Modules, Iron, Cerulite</td>
              </tr>
              <tr>
                <td><span class="badge badge-rare">Uncommon</span></td>
                <td>Medium (8x8x5)</td>
                <td>1</td>
                <td>4</td>
                <td>50%</td>
                <td>Math Modules, Cerulite Ingots</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Rare</span></td>
                <td>Medium (10x10x5)</td>
                <td>1</td>
                <td>3</td>
                <td>30%</td>
                <td>Control Flow Modules, Chronite</td>
              </tr>
              <tr>
                <td><span class="badge badge-legendary">Epic</span></td>
                <td>Large (15x15x8)</td>
                <td>1</td>
                <td>2</td>
                <td>15%</td>
                <td>Advanced Modules, Muon Crystals, Empty Cartridges</td>
              </tr>
              <tr>
                <td><span class="badge badge-artifact">Legendary</span></td>
                <td>Large (20x20x10)</td>
                <td>1</td>
                <td>1</td>
                <td>0%</td>
                <td>Relic Chips, Neutrino Cores, Artifact Fragments</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Crate Spawn Mechanics</h4>
        <ul>
          <li><strong>Base Spawn:</strong> Every ruin spawns 1 crate of determined rarity</li>
          <li><strong>Extra Crate Rolls:</strong> For each potential extra crate, roll Extra Crate Chance</li>
          <li><strong>Example (Common Crate):</strong>
            <ul>
              <li>1st crate: Guaranteed (100%)</li>
              <li>2nd crate: 70% chance</li>
              <li>3rd crate: 70% chance</li>
              <li>4th crate: 70% chance</li>
              <li>5th crate: 70% chance</li>
              <li>Average result: 3-4 crates per Common ruin</li>
            </ul>
          </li>
          <li><strong>Example (Legendary Crate):</strong>
            <ul>
              <li>1st crate: Guaranteed (100%)</li>
              <li>2nd crate: 0% chance (Max = 1)</li>
              <li>Always exactly 1 crate</li>
            </ul>
          </li>
        </ul>

        <h4>Vault Structures</h4>
        <ul>
          <li><strong>Spawn Rate:</strong> Ultra-Rare (0.001% of ruins)</li>
          <li><strong>Size:</strong> Massive (40x40x20)</li>
          <li><strong>Contains:</strong> Sealed vault door requiring Vault Key</li>
          <li><strong>Loot:</strong> 1 guaranteed Artifact Tablet + 3 Legendary Crates</li>
          <li><strong>Feature:</strong> One-time access per vault</li>
        </ul>

        <h3>Scanner Usage</h3>
        <p>Use scanners to locate structures:</p>

        <h4>Scanner Tiers</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Scanner</th>
                <th>Range</th>
                <th>Cooldown</th>
                <th>Daily Charges</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Basic Scanner</td>
                <td>512 blocks</td>
                <td>5 minutes</td>
                <td>10</td>
              </tr>
              <tr>
                <td>Advanced Scanner</td>
                <td>1024 blocks</td>
                <td>3 minutes</td>
                <td>20</td>
              </tr>
              <tr>
                <td>Pandora Lens</td>
                <td>2048 blocks</td>
                <td>1 minute</td>
                <td>Unlimited</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Scanner API Example</h4>
        <pre><code class="language-lua">local scanner = peripheral.find("relic_scanner")

-- Scan for structures
local structures = scanner.scan()
-- Returns: {
--   {type="vault", x=1234, y=64, z=-5678, distance=892},
--   {type="cerulite_crate", x=234, y=70, z=-123, distance=156}
-- }

-- Check cooldown
local cooldown = scanner.getCooldown()
print("Cooldown: " .. cooldown .. "s")

-- Check charges
local charges = scanner.getCharges()
print("Charges remaining: " .. charges)</code></pre>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Tip:</strong> Scanners only return coordinates, not visual data. Use coordinates to navigate or send team members.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="minigames" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-gamepad"></i> Minigames</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Crate Decoder Puzzle</h3>
        <p>Found in Cerulite Crate ruins. Requires solving a pattern-matching puzzle to unlock crate.</p>

        <h4>Puzzle Mechanics</h4>
        <ul>
          <li>9-digit code displayed on monitor (obfuscated)</li>
          <li>Player must enter correct sequence using buttons</li>
          <li><strong class="text-danger">3 attempts before ruin explodes</strong></li>
          <li>Hints available via Lua peripheral methods</li>
          <li>Warning system: Monitor displays countdown after each failed attempt</li>
        </ul>

        <h4>Explosion Mechanic</h4>
        <div class="alert alert-danger">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>DANGER:</strong> After 3 failed decryption attempts, the ruin's self-destruct mechanism activates:
            <ul>
              <li><strong>Explosion Radius:</strong> 20 blocks from crate center</li>
              <li><strong>Destroys:</strong> All crates, structure blocks, and loot within radius</li>
              <li><strong>Player Damage:</strong> Lethal damage if within 10 blocks (armor recommended)</li>
              <li><strong>No Prevention:</strong> Cannot be stopped once third attempt fails</li>
              <li><strong>Warning:</strong> Monitor displays "CRITICAL FAILURE - EVACUATE" before detonation (3 second delay)</li>
            </ul>
          </div>
        </div>

        <h4>Rewards</h4>
        <ul>
          <li>Successful decode: 2x loot multiplier</li>
          <li>Failed attempts (1-2 failures): Can retry, no penalties</li>
          <li>Third failure: <span class="text-danger"><strong>Ruin explodes, all loot destroyed</strong></span></li>
          <li>Speedrun bonus: Complete in <60s = bonus rare blueprint</li>
        </ul>

        <h4>Master Decoder Item</h4>
        <p>Ultra-rare item that auto-solves decoder puzzles. Found in Vault loot.</p>
        <ul>
          <li>Single-use consumable</li>
          <li>Cannot be crafted</li>
          <li>Instantly unlocks crate with 3x loot multiplier</li>
        </ul>

        <h3>Future Minigames (Planned)</h3>
        <ul>
          <li><strong>Power Grid Puzzle:</strong> Route power through node network to unlock door</li>
          <li><strong>Chronite Sequencer:</strong> Time-based button sequence challenge</li>
          <li><strong>Muon Harmonizer:</strong> Match frequency patterns using sliders</li>
        </ul>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Automation:</strong> All minigames solvable via Lua scripts for players who prefer programming over manual puzzles.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="fe-power" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-bolt"></i> FE Power & Modification System</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Circuit Execution FE Costs</h3>
        <div class="alert alert-info">
          <i class="fas fa-bolt"></i>
          <div>
            <strong>Exponential FE System:</strong> Circuits drain FE exponentially over time + one-time costs when module methods are called. Higher tier devices can run longer before drain becomes unsustainable.
          </div>
        </div>

        <h4>Exponential Per-Tick Execution Cost</h4>
        <p><strong>Formula:</strong> <code>FE_Drain = 0.5% * (Exponent ^ Ticks_Running)</code></p>
        <div class="table-responsive">
          <table class="table">
            <thead>
            <tr>
              <th>Device Tier</th>
              <th>Base Drain</th>
              <th>Exponent</th>
              <th>Tick 1</th>
              <th>Tick 20</th>
              <th>Tick 40</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td><span class="badge bg-secondary">Basic</span></td>
              <td>0.5%</td>
              <td>1.15</td>
              <td>0.5%</td>
              <td>~8%</td>
              <td>~81%</td>
            </tr>
            <tr>
              <td><span class="badge badge-rare">Advanced</span></td>
              <td>0.5%</td>
              <td>1.10</td>
              <td>0.5%</td>
              <td>~3.4%</td>
              <td>~23%</td>
            </tr>
            <tr>
              <td><span class="badge badge-epic">Elite</span></td>
              <td>0.5%</td>
              <td>1.05</td>
              <td>0.5%</td>
              <td>~1.3%</td>
              <td>~3.5%</td>
            </tr>
            <tr>
              <td><span class="badge badge-legendary">Master</span></td>
              <td>0.5%</td>
              <td>1.02</td>
              <td>0.5%</td>
              <td>~0.74%</td>
              <td>~1.1%</td>
            </tr>
            <tr>
              <td><span class="badge badge-artifact">Legendary</span></td>
              <td>0.5%</td>
              <td>1.01</td>
              <td>0.5%</td>
              <td>~0.60%</td>
              <td>~0.72%</td>
            </tr>
            </tbody>
          </table>
        </div>

        <div class="alert alert-warning">
          <i class="fas fa-clock"></i>
          <div>
            <strong>Execution Time:</strong> Short circuits (1-10 ticks) have minimal drain. Long circuits drain exponentially. Higher tier devices allow more complex logic before drain becomes prohibitive.
          </div>
        </div>

        <h4>Module Method Call Costs</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
            <tr>
              <th>Module Rarity</th>
              <th>FE per Method Call</th>
              <th>Example Methods</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td><span class="badge badge-rare">Rare</span></td>
              <td>10,000 FE</td>
              <td>dealDamage(), freeze(), poison(), raycast()</td>
            </tr>
            <tr>
              <td><span class="badge badge-epic">Epic</span></td>
              <td>100,000 FE</td>
              <td>burn(), wither(), heal(), createShield(), chainLightning()</td>
            </tr>
            <tr>
              <td><span class="badge badge-legendary">Legendary</span></td>
              <td>1,000,000 FE</td>
              <td>explode(), teleport(), reflectDamage()</td>
            </tr>
            <tr>
              <td><span class="badge badge-artifact">Artifact</span></td>
              <td>10,000,000 FE</td>
              <td>Unique artifact-only methods</td>
            </tr>
            </tbody>
          </table>
        </div>

        <div class="alert alert-success">
          <i class="fas fa-shield-alt"></i>
          <div>
            <strong>Natural Protection:</strong> This FE cost system naturally prevents infinite loops and abuse. Code runs out of FE before causing problems.
          </div>
        </div>

        <h3>Modification Throughput Requirements</h3>
        <p><strong>Formula:</strong></p>
        <pre><code class="light">Required_FE/t = Base * (1 + (Modules/10)^2) * RarityMultiplier * ModWeight

Where:
Base = 100 FE/t
Modules = Number of active module slots
RarityMultiplier = 1 (Rare), 2 (Epic), 4 (Legendary), 8 (Artifact)
ModWeight = Sum of modification complexity values</code></pre>

        <h3>Exponential Failure Curve</h3>
        <div class="chart-container">
          <canvas id="successChart"></canvas>
        </div>

        <h4>Success Formula</h4>
        <pre><code class="language-javascript">ratio = actual_FE/t / required_FE/t

if (ratio >= 0.98) {
    success = 100%
} else if (ratio >= 0.90) {
    success = 95% + (ratio - 0.90) * 625
} else if (ratio >= 0.70) {
    success = 50% + (ratio - 0.70) * 225
} else {
    success = ratio * 71.4
}</code></pre>

        <div class="alert alert-danger">
          <i class="fas fa-bomb"></i>
          <div>
            <strong>Catastrophic Failure:</strong> On failure, workbench explodes (radius 3-8 blocks), deals damage (10-50 HP scaling with item complexity), and ejects item as "Broken". The bench block itself is destroyed and must be re-crafted. Item is NEVER deleted and can always be recovered.
          </div>
        </div>

        <h3>Risk by Success Chance</h3>
        <div class="table-responsive">
          <table class="table">
            <thead>
            <tr>
              <th>Success %</th>
              <th>Explosion Radius</th>
              <th>Damage</th>
              <th>Item State</th>
            </tr>
            </thead>
            <tbody>
            <tr class="table-success">
              <td>100%</td>
              <td>No explosion</td>
              <td>No damage</td>
              <td><i class="fas fa-check text-success"></i> Success!</td>
            </tr>
            <tr>
              <td>95-99%</td>
              <td>3 blocks</td>
              <td>10 HP</td>
              <td>Always broken</td>
            </tr>
            <tr>
              <td>70-94%</td>
              <td>4 blocks</td>
              <td>20 HP</td>
              <td>Always broken</td>
            </tr>
            <tr>
              <td>50-69%</td>
              <td>5 blocks</td>
              <td>30 HP</td>
              <td>Always broken</td>
            </tr>
            <tr>
              <td>30-49%</td>
              <td>6 blocks</td>
              <td>40 HP</td>
              <td>Always broken</td>
            </tr>
            <tr class="table-danger">
              <td>&lt;30%</td>
              <td>8 blocks</td>
              <td>50 HP</td>
              <td>Always broken</td>
            </tr>
            </tbody>
          </table>
        </div>

        <h3>Modification Times</h3>
        <div class="table-responsive">
          <table class="table">
            <thead>
            <tr>
              <th>Rarity</th>
              <th>Base Time</th>
              <th>With Modification Halo Relic</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td><span class="badge badge-rare">Rare</span></td>
              <td>2 minutes</td>
              <td>48 seconds</td>
            </tr>
            <tr>
              <td><span class="badge badge-epic">Epic</span></td>
              <td>5 minutes</td>
              <td>2 minutes</td>
            </tr>
            <tr>
              <td><span class="badge badge-legendary">Legendary</span></td>
              <td>10 minutes</td>
              <td>10 minutes (no effect)</td>
            </tr>
            <tr>
              <td><span class="badge badge-artifact">Artifacts</span></td>
              <td>20 minutes</td>
              <td>20 minutes (no effect)</td>
            </tr>
            </tbody>
          </table>
        </div>

        <h3>Lua Safety Check Example</h3>
        <pre><code class="language-lua">-- Pre-modification safety check
local bench = peripheral.find("relic_workbench")

local required = bench.getFERequired()
local available = bench.getFEThroughput()
local chance = bench.getSuccessChance()

print("=== MODIFICATION SAFETY CHECK ===")
print("Required: " .. required .. " FE/t")
print("Available: " .. available .. " FE/t")
print("Success: " .. chance .. "%")

if chance < 100 then
  print("\nWARNING: MODIFICATION MAY FAIL")
  print("Risk: Bench explosion + broken item")
  print("Proceed? (y/n)")

  if read() ~= "y" then
    print("Modification cancelled")
    return
  end
end

print("\nStarting modification...")
local success, err = bench.startModify()

if success then
  -- Monitor progress
  while bench.isModifying() do
    local progress = bench.getModifyProgress() * 100
    local time = bench.getModifyTimeRemaining()
    print(string.format("Progress: %.1f%% | %ds remaining", progress, time))
    sleep(5)
  end
  print("Modification complete!")
else
  print("Error: " .. err)
end</code></pre>
      </div>
    </div>
  </div>

  <div id="relics-list" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-crown"></i> Relics List</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Available Relic Module Chips</h3>
        <p>Ultra-rare soulbound module chips with passive abilities. Auto-bind on first pickup. Install into tablets for permanent bonuses.</p>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Limited Spawn:</strong> Each relic chip has extremely low drop rate. Some servers may never see certain chips. Once installed, cannot be removed from tablet.
          </div>
        </div>

        <h4>Overcap Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> Exceed normal module slot limits by +2</li>
          <li><strong>Effect:</strong> Master Tablet 8 slots → 10 slots (enables impossible circuit combinations)</li>
          <li><strong>Value Cap Bonus:</strong> None (does not affect baseVal caps)</li>
          <li><strong>Source:</strong> Vault loot (0.001% chance)</li>
          <li><strong>Install Behavior:</strong> Takes 1 Legendary module slot, but grants +2 to all slot tiers</li>
        </ul>

        <h4>Temporal Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> 50% faster circuit compile times</li>
          <li><strong>Effect:</strong> 300s compile → 150s compile</li>
          <li><strong>Value Cap Bonus:</strong> None</li>
          <li><strong>Source:</strong> QLR structure treasure room</li>
          <li><strong>Install Behavior:</strong> Takes 1 Epic module slot, always active when tablet used at workbench</li>
        </ul>

        <h4>Amplifier Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> Increases baseVal() caps by +5</li>
          <li><strong>Effect:</strong> Legendary cap 10 → 15, Epic cap 7 → 12, etc.</li>
          <li><strong>Value Cap Bonus:</strong> +5 to all installed modules</li>
          <li><strong>Source:</strong> Vault loot (0.0005% chance)</li>
          <li><strong>Install Behavior:</strong> Takes 1 Legendary module slot, stacks with Artifact bonuses</li>
        </ul>

        <h4>Void Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> All circuits ignore player-created shields/barriers</li>
          <li><strong>Effect:</strong> PvP advantage - circuits bypass shield circuits from other tablets</li>
          <li><strong>Value Cap Bonus:</strong> None</li>
          <li><strong>Source:</strong> Vault loot (0.002% chance)</li>
          <li><strong>Install Behavior:</strong> Takes 1 Epic module slot, applies to ALL compiled circuits</li>
        </ul>

        <h4>Efficiency Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> 10% chance to refund compile FE cost on success</li>
          <li><strong>Effect:</strong> Over time, saves millions of FE</li>
          <li><strong>Value Cap Bonus:</strong> None</li>
          <li><strong>Source:</strong> Repair Station ultra-rare chest</li>
          <li><strong>Install Behavior:</strong> Takes 1 Rare module slot, triggers on each circuit compile</li>
        </ul>

        <h4>Recursion Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> Circuits can call other compiled circuits (circuit chaining)</li>
          <li><strong>Effect:</strong> Cast circuit A → automatically triggers circuit B → triggers circuit C (combo system)</li>
          <li><strong>Value Cap Bonus:</strong> None</li>
          <li><strong>Source:</strong> Hidden in Chronite Sequencer minigame</li>
          <li><strong>Install Behavior:</strong> Takes 1 Legendary module slot, enables new API: circuit:chain(otherCircuit)</li>
        </ul>

        <h4>Perpetual Chip</h4>
        <ul>
          <li><strong>Type:</strong> Module Relic Chip</li>
          <li><strong>Passive Ability:</strong> Tablet passively regenerates 100 FE/second</li>
          <li><strong>Effect:</strong> Free FE over time, reduces need for constant recharging</li>
          <li><strong>Value Cap Bonus:</strong> None</li>
          <li><strong>Source:</strong> Vault loot (0.003% chance)</li>
          <li><strong>Install Behavior:</strong> Takes 1 Epic module slot, always active when tablet in inventory</li>
        </ul>

        <div class="alert alert-success">
          <i class="fas fa-gem"></i>
          <div>
            <strong>Relic Chip Strategy:</strong> Choose wisely! Once installed, chips are permanently bound to that tablet. Losing the tablet = losing the chip. Always soulbind tablets with Relic chips.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="artifacts-list" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-meteor"></i> Artifacts List</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>World-Unique Artifact Tablets</h3>
        <p>Mythic Pocket Tablets with 1-3 impossible pre-installed modules. Typically 1 per world per type. These modules CANNOT be crafted or obtained normally.</p>

        <h4>Pandora Tablet</h4>
        <ul>
          <li><strong>Type:</strong> Master-Tier Pocket Tablet</li>
          <li><strong>Pre-Installed Modules:</strong>
            <ul>
              <li><strong>Recursive Amplification Module:</strong> Circuits gain +3% effectiveness per execution, stacks 50x (max +150% effectiveness)</li>
              <li><strong>Echo Module:</strong> Circuits execute twice with 50% FE cost on second execution</li>
            </ul>
          </li>
          <li><strong>Tablet Stats:</strong> 10M FE capacity, 12 cartridge slots</li>
          <li><strong>Value Caps:</strong> baseVal() cap = 25 (exceeds Legendary cap of 10)</li>
          <li><strong>Special:</strong> Circuits executed with Pandora ignore cooldowns if FE available</li>
          <li><strong>Source:</strong> Vault loot (guaranteed in "Crimson Vault" type)</li>
        </ul>

        <h4>Chronos Tablet</h4>
        <ul>
          <li><strong>Type:</strong> Master-Tier Pocket Tablet</li>
          <li><strong>Pre-Installed Modules:</strong>
            <ul>
              <li><strong>Time Dilation Module:</strong> Circuits can rewind player position by 5 seconds</li>
              <li><strong>Temporal Lock Module:</strong> Freeze entities in 10-block radius for 3 seconds</li>
              <li><strong>Haste Module:</strong> Player gains Haste V for 10s after circuit cast</li>
            </ul>
          </li>
          <li><strong>Tablet Stats:</strong> 10M FE capacity, 12 cartridge slots</li>
          <li><strong>Value Caps:</strong> baseVal() cap = 20</li>
          <li><strong>Special:</strong> Instant compile (0 seconds) for all circuits</li>
          <li><strong>Source:</strong> Vault loot (guaranteed in "Temporal Vault" type)</li>
        </ul>

        <h4>Oracle Tablet</h4>
        <ul>
          <li><strong>Type:</strong> Master-Tier Pocket Tablet</li>
          <li><strong>Pre-Installed Modules:</strong>
            <ul>
              <li><strong>Omniscient Scanner Module:</strong> See ALL structures in world (no range limit)</li>
              <li><strong>Entity Tracker Module:</strong> See all players/mobs through walls</li>
              <li><strong>Vault Vision Module:</strong> Shows vault contents without opening</li>
            </ul>
          </li>
          <li><strong>Tablet Stats:</strong> 10M FE capacity, 12 cartridge slots</li>
          <li><strong>Value Caps:</strong> baseVal() cap = 15</li>
          <li><strong>Special:</strong> Scanning circuits cost 0 FE</li>
          <li><strong>Source:</strong> QLR secret treasure (1 per world)</li>
        </ul>

        <h4>Prometheus Tablet</h4>
        <ul>
          <li><strong>Type:</strong> Master-Tier Pocket Tablet</li>
          <li><strong>Pre-Installed Modules:</strong>
            <ul>
              <li><strong>Infinite FE Module:</strong> Tablet never runs out of FE (regenerates 10k/sec)</li>
              <li><strong>Mass Circuit Module:</strong> Circuits affect all entities in 50-block radius</li>
              <li><strong>Overcharge Module:</strong> Circuits can consume 10x FE for 10x effect</li>
            </ul>
          </li>
          <li><strong>Tablet Stats:</strong> 100M FE capacity, 12 cartridge slots</li>
          <li><strong>Value Caps:</strong> baseVal() cap = 30 (highest possible)</li>
          <li><strong>Special:</strong> Can compile circuits with unlimited module slots (breaks normal limits)</li>
          <li><strong>Source:</strong> Vault loot (0.00001% chance - rarest Artifact)</li>
        </ul>

        <h4>Aegis Tablet</h4>
        <ul>
          <li><strong>Type:</strong> Master-Tier Pocket Tablet</li>
          <li><strong>Pre-Installed Modules:</strong>
            <ul>
              <li><strong>Adaptive Shield Module:</strong> Auto-cast shield circuit when taking damage (immune to that damage type for 10s)</li>
              <li><strong>Regeneration Module:</strong> Passive 5 HP/sec healing</li>
              <li><strong>Guardian Module:</strong> First fatal hit per life reduced to 1 HP (30min cooldown)</li>
            </ul>
          </li>
          <li><strong>Tablet Stats:</strong> 10M FE capacity, 12 cartridge slots</li>
          <li><strong>Value Caps:</strong> baseVal() cap = 20</li>
          <li><strong>Special:</strong> Defensive circuits cost 50% FE</li>
          <li><strong>Source:</strong> Vault loot (guaranteed in "Guardian Vault" type)</li>
        </ul>

        <div class="alert alert-danger">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>PvP Warning:</strong> Artifact Tablets NOT soulbound by default. Can be stolen/lost unless Soulbind Module Chip applied. Losing an Artifact Tablet means losing world-unique modules forever.
          </div>
        </div>

        <div class="alert alert-info">
          <i class="fas fa-server"></i>
          <div>
            <strong>Server Impact:</strong> Artifact Tablets are server-defining items. Whoever controls them has significant power advantage. Consider PvP protection or team ownership strategies.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="lua-programs" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-code"></i> Example Lua Programs</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Complete Circuit Programming Examples</h3>
        <p>These examples demonstrate unrestricted Lua programming with action modules. Write any code you want, call module methods for effects, and circuits execute with FE costs.</p>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Key Concepts:</strong> Write unrestricted Lua code. Call module methods (burn(), explode(), etc.) for actions. Each method call costs FE based on module rarity. Circuit execution drains 5% FE per tick. compile() transfers modules to cartridges.
          </div>
        </div>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Note on Script Structure:</strong> The examples below show compilation and usage in single scripts for demonstration purposes. In production, you should separate these:
            <ul>
              <li><strong>compile_*.lua</strong> - Runs once to compile circuit to cartridge (consumes modules)</li>
              <li><strong>use_*.lua</strong> - Runs repeatedly to execute compiled circuit (no module cost)</li>
              <li>See the Overview section "Compilation vs Usage Workflows" for detailed examples of separated scripts</li>
            </ul>
          </div>
        </div>

        <h3>1. Basic Combat Spell Circuit</h3>
        <p>A simple combat spell for pocket tablets demonstrating unrestricted Lua and module methods.</p>
        <pre><code class="language-lua">-- compile_fireball.lua
-- COMPILATION SCRIPT: Basic fireball spell
-- This is a POCKET TABLET - Shift+Right Click to open coding interface

-- Modules installed: burn (Epic), explode (Legendary), dealDamage (Rare)

-- Create projectile circuit
local circuit = Projectile.new("fireball")

-- Define parameters (UNRESTRICTED LUA - any values!)
local baseDamage = 50
local burnDuration = 8
local explosionRadius = 4

-- Add crit chance logic (normal Lua!)
local critChance = 0.25
if math.random() < critChance then
  baseDamage = baseDamage * 1.5
  print("Critical hit prepared!")
end

-- Define impact behavior
circuit:onImpact(function(target)
  -- Call module methods (each costs FE)
  dealDamage(target, baseDamage)  -- Rare: 10k FE
  burn(target, burnDuration)       -- Epic: 100k FE
  explode(explosionRadius)         -- Legendary: 1M FE

  print("Fireball hit " .. target.name)
end)

-- Compile to cartridge slot 1
local success = circuit:compile("Fireball", 1)

if success then
  print("Fireball circuit compiled!")
  print("Damage: " .. baseDamage)
  print("Burn: " .. burnDuration .. "s")
  print("Explosion radius: " .. explosionRadius)
  print("FE cost per cast: ~1.11M FE + tick costs")
else
  print("Compilation failed - check modules")
end</code></pre>

        <h4>Expected Output:</h4>
        <pre><code>Fireball circuit compiled!
Damage: 50
Burn: 8s
Explosion radius: 4
FE cost per cast: ~1.11M FE + tick costs</code></pre>

        <h3>2. Adaptive Healing Circuit</h3>
        <p>Instant spell that adapts healing based on caster's current health using unrestricted Lua logic.</p>
        <pre><code class="language-lua">-- compile_heal.lua
-- Demonstrates conditional logic with module methods

-- Shift+Right Click to open pocket tablet interface
-- Modules installed: heal (Epic), createShield (Epic)

-- Create instant circuit
local circuit = Instant.new("adaptive_heal")

-- Define healing parameters (unrestricted values!)
local baseHeal = 20
local emergencyHealMultiplier = 2.5
local shieldDuration = 10

-- Define cast behavior
circuit:onCast(function(caster)
  local healthPercent = (caster.health / caster.maxHealth) * 100

  print("Current health: " .. math.floor(healthPercent) .. "%")

  -- Adaptive healing logic (normal Lua!)
  if healthPercent < 30 then
    -- Emergency: Big heal + shield
    local emergencyHeal = baseHeal * emergencyHealMultiplier
    heal(caster, emergencyHeal)     -- Epic: 100k FE
    createShield(shieldDuration)    -- Epic: 100k FE
    print("EMERGENCY HEAL: +" .. emergencyHeal .. " HP + Shield!")

  elseif healthPercent < 70 then
    -- Standard heal
    heal(caster, baseHeal)  -- Epic: 100k FE
    print("Standard heal: +" .. baseHeal .. " HP")

  else
    -- Just shield at high health
    createShield(shieldDuration / 2)  -- Epic: 100k FE
    print("Shield only (health good)")
  end
end)

-- Compile to cartridge slot 2
local success = circuit:compile("Adaptive Heal", 2)

if success then
  print("Adaptive Heal compiled!")
  print("Base heal: " .. baseHeal .. " HP")
  print("Emergency heal: " .. (baseHeal * emergencyHealMultiplier) .. " HP")
  print("Shield duration: " .. shieldDuration .. "s")
  print("FE cost: 100k-200k depending on health")
else
  print("Compilation failed - missing modules")
end</code></pre>

        <h3>3. Area-of-Effect Spell with Loops</h3>
        <p>Demonstrates loop-based spell that hits multiple enemies. Shows natural FE prevention of infinite loops.</p>
        <pre><code class="language-lua">-- compile_aoe.lua
-- Area spell that damages all nearby enemies
-- Demonstrates: loops, module methods, FE cost management

-- Modules installed: findEntitiesInRadius (Rare), dealDamage (Rare), freeze (Rare)

-- Create area circuit
local circuit = Area.new("frost_nova")

-- Define parameters (unrestricted!)
local radius = 15
local damagePerEnemy = 40
local freezeDuration = 5

-- Define cast behavior
circuit:onCast(function(caster)
  -- Get all entities in radius (Rare: 10k FE)
  local entities = findEntitiesInRadius(radius)

  print("Found " .. #entities .. " entities in radius")

  local hitCount = 0

  -- Loop through enemies (normal Lua!)
  for i, entity in ipairs(entities) do
    -- Filter for hostile mobs only
    if entity.type == "mob" and entity.hostile then
      -- Damage each enemy (Rare: 10k FE per call)
      dealDamage(entity, damagePerEnemy)

      -- 50% chance to freeze (Rare: 10k FE per call)
      if math.random() > 0.5 then
        freeze(entity, freezeDuration)
        print("  Froze " .. entity.name)
      end

      hitCount = hitCount + 1
    end

    -- Each iteration costs ~20k FE (damage + possible freeze)
    -- With 1M FE capacity: max ~50 enemies before running out
    -- Natural protection against huge entity lists!
  end

  print("Damaged " .. hitCount .. " enemies")
end)

-- Compile to cartridge slot 3
local success = circuit:compile("Frost Nova", 3)

if success then
  print("Frost Nova compiled!")
  print("Radius: " .. radius .. " blocks")
  print("Damage: " .. damagePerEnemy .. " per enemy")
  print("Freeze: " .. freezeDuration .. "s (50% chance)")
  print("FE cost: 10k + 10-20k per enemy hit")
  print("Natural limit: ~50 enemies max before FE runs out")
else
  print("Compilation failed - missing modules")
end</code></pre>

        <h3>4. Teleport Combo Spell (Legendary)</h3>
        <p>Advanced spell combining teleport with damage. Shows expensive Legendary module usage.</p>
        <pre><code class="language-lua">-- compile_teleport_strike.lua
-- Legendary spell: Teleport behind target and strike
-- Demonstrates: expensive modules, multi-step combos

-- Modules installed: raycast (Rare), teleport (Legendary), dealDamage (Rare), burn (Epic)

-- Create instant circuit
local circuit = Instant.new("teleport_strike")

-- Define parameters
local teleportDistance = 3  -- Behind target
local baseDamage = 100
local burnDuration = 10

-- Define cast behavior
circuit:onCast(function(caster)
  -- Find target in front (Rare: 10k FE)
  local target = raycast(30)

  if not target then
    print("No target found!")
    return
  end

  -- Calculate position behind target (normal Lua math!)
  local behindX = target.x + (target.lookX * -teleportDistance)
  local behindY = target.y
  local behindZ = target.z + (target.lookZ * -teleportDistance)

  -- Teleport to position (Legendary: 1M FE!!!)
  teleport({x = behindX, y = behindY, z = behindZ})

  -- Strike from behind!
  dealDamage(target, baseDamage)  -- Rare: 10k FE
  burn(target, burnDuration)       -- Epic: 100k FE

  print("Teleport strike on " .. target.name .. "!")
  print("Damage: " .. baseDamage)
end)

-- Compile to cartridge slot 4
local success = circuit:compile("Teleport Strike", 4)

if success then
  print("Teleport Strike compiled!")
  print("Distance: " .. teleportDistance .. " blocks behind target")
  print("Damage: " .. baseDamage)
  print("Burn: " .. burnDuration .. "s")
  print()
  print("FE cost: ~1.12M FE (Legendary teleport is EXPENSIVE!)")
  print("Required: 1M+ FE capacity recommended")
else
  print("Compilation failed - missing Legendary modules")
end</code></pre>

        <h3>5. Complete Cartridge Management</h3>
        <p>Full example showing compile, decompile, export, and module tracking operations for cartridge-based circuits.</p>
        <pre><code class="language-lua">-- cartridge_management.lua
-- Demonstrates complete cartridge lifecycle: compile, decompile, export, backup

print("=== Cartridge Management System ===")
print()

-- STEP 1: Create and compile a circuit to cartridge
print("[STEP 1] Compiling Circuit to Cartridge")
print("---")

local farmCircuit = assignCircuit("Auto Harvester", this.inv(1))

-- Modules: heal (Epic), burn (Epic), dealDamage (Rare), findEntitiesInRadius (Rare)

local circuit = Area.new("ultimate")

circuit:onCast(function(caster)
  local enemies = findEntitiesInRadius(10)  -- Rare: 10k FE

  for _, enemy in ipairs(enemies) do
    dealDamage(enemy, 50)  -- Rare: 10k FE per enemy
    burn(enemy, 5)         -- Epic: 100k FE per enemy
  end

  heal(caster, 20)  -- Epic: 100k FE
end)

-- Compile: Modules transferred from device to cartridge
local compileSuccess = farmCircuit:compile()

if compileSuccess then
  print("✓ Circuit compiled to cartridge slot 1")
  print("✓ Modules consumed: For Loop x2, baseVal() x2")
  print("✓ Cartridge now contains executable circuit")
else
  print("✗ Compilation failed - insufficient modules")
  return
end

print()

-- STEP 2: Execute the circuit from cartridge
print("[STEP 2] Executing Circuit from Cartridge")
print("---")

-- Right-click pocket computer to execute active cartridge circuit
-- Or programmatically:
local executeSuccess = this.inv(1):execute()
if executeSuccess then
  print("✓ Auto Harvester executed successfully")
else
  print("✗ Execution failed")
end

print()

-- STEP 3: Decompile cartridge to recover modules
print("[STEP 3] Decompiling Cartridge")
print("---")

-- Decompile: Destroys cartridge, returns modules to device
local recoveredModules = this.inv(1):decompile()

print("✓ Cartridge destroyed")
print("✓ Modules recovered:")
for moduleName, count in pairs(recoveredModules) do
  print("  - " .. moduleName .. " x" .. count)
end
-- Expected output:
-- - For Loop Module x2
-- - baseVal Module x2

print()

-- STEP 4: Export circuit to .lua file for sharing
print("[STEP 4] Exporting Circuit to File")
print("---")

-- Recompile for export demonstration
farmCircuit = assignCircuit("Auto Harvester", this.inv(1))
farmCircuit:addForLoop(farmSize, function()
  farmCircuit:addForLoop(farmSize, function()
    farmCircuit:turtleDigDown()
    farmCircuit:turtlePlaceDown()
    farmCircuit:turtleMove()
  end)
end)
farmCircuit:compile()

-- Export to .lua file (for sharing with other players)
local exportSuccess = this.inv(1):export("/disk/auto_harvester.lua")

if exportSuccess then
  print("✓ Circuit exported to /disk/auto_harvester.lua")
  print("✓ File can be shared with other players")
  print("✓ Original cartridge remains intact")
else
  print("✗ Export failed - check disk drive")
end

print()

-- STEP 5: Import circuit from file
print("[STEP 5] Importing Circuit from File")
print("---")

-- Import requires:
-- 1. Empty cartridge in slot
-- 2. .lua file on disk
-- 3. Sufficient modules in device

local importCircuit = assignCircuit("Imported Circuit", this.inv(2))
local importSuccess = importCircuit:import("/disk/auto_harvester.lua")

if importSuccess then
  print("✓ Circuit imported to cartridge slot 2")
  print("✓ Modules consumed during import (same as original compile)")
else
  print("✗ Import failed - insufficient modules or missing file")
end

print()

-- STEP 6: Inspect cartridge contents
print("[STEP 6] Inspecting Cartridge Metadata")
print("---")

local cartridge = this.inv(1)
local metadata = cartridge:getMetadata()

print("Cartridge Name: " .. metadata.name)
print("Module Count: " .. metadata.moduleCount)
print("Compiled Date: " .. metadata.compileTimestamp)
print("Modules Used:")
for _, module in ipairs(metadata.modules) do
  print("  - " .. module.name .. " (Rarity: " .. module.rarity .. ")")
end

print()
print("=== Cartridge Management Complete ===")
print("Key Takeaways:")
print("• Compile: Transfers modules from device to cartridge (permanent)")
print("• Decompile: Destroys cartridge, recovers modules")
print("• Export: Creates shareable .lua file (cartridge remains)")
print("• Import: Creates new cartridge from .lua file (requires modules)")
</code></pre>

        <h4>Expected Output:</h4>
        <pre><code>=== Cartridge Management System ===

[STEP 1] Compiling Circuit to Cartridge
---
✓ Circuit compiled to cartridge slot 1
✓ Modules consumed: For Loop x2, baseVal() x2
✓ Cartridge now contains executable circuit

[STEP 2] Executing Circuit from Cartridge
---
✓ Auto Harvester executed successfully

[STEP 3] Decompiling Cartridge
---
✓ Cartridge destroyed
✓ Modules recovered:
  - For Loop Module x2
  - baseVal Module x2

[STEP 4] Exporting Circuit to File
---
✓ Circuit exported to /disk/auto_harvester.lua
✓ File can be shared with other players
✓ Original cartridge remains intact

[STEP 5] Importing Circuit from File
---
✓ Circuit imported to cartridge slot 2
✓ Modules consumed during import (same as original compile)

[STEP 6] Inspecting Cartridge Metadata
---
Cartridge Name: Auto Harvester
Module Count: 4
Compiled Date: 2025-10-04 14:32:18
Modules Used:
  - For Loop Module (Rarity: Rare)
  - For Loop Module (Rarity: Rare)
  - baseVal Module (Rarity: Common)
  - baseVal Module (Rarity: Common)

=== Cartridge Management Complete ===
Key Takeaways:
• Compile: Transfers modules from device to cartridge (permanent)
• Decompile: Destroys cartridge, recovers modules
• Export: Creates shareable .lua file (cartridge remains)
• Import: Creates new cartridge from .lua file (requires modules)</code></pre>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Important Notes:</strong>
            <ul>
              <li>Decompiling is the ONLY way to recover modules from cartridges - choose wisely before compiling</li>
              <li>Exporting creates a .lua backup without destroying the cartridge - recommended for all circuits</li>
              <li>Importing from .lua files still requires modules - it's not a duplication exploit</li>
              <li>Cartridges store module NBT data - preserve rarity and custom properties</li>
              <li>Module consumption prevents infinite circuit creation - plan your module economy</li>
            </ul>
          </div>
        </div>

        <h4>Advanced PSI API Reference</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Circuit Type</th>
                <th>Constructor</th>
                <th>Common Methods</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge badge-rare">Projectile</span></td>
                <td><code>Projectile.new(name)</code></td>
                <td>setSpeed(), setRange(), setGravity(), setHoming(), setSize()</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Instant</span></td>
                <td><code>Instant.new(name)</code></td>
                <td>None (uses effect chains only)</td>
              </tr>
              <tr>
                <td><span class="badge badge-legendary">Raycast</span></td>
                <td><code>Raycast.new(name)</code></td>
                <td>setRange(), setPiercing(), setParticle()</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Effect Chain Method</th>
                <th>Description</th>
                <th>Parameters</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>effectChain()</code></td>
                <td>Create new effect chain</td>
                <td>None</td>
              </tr>
              <tr>
                <td><code>:onImpact()</code></td>
                <td>Trigger when projectile hits</td>
                <td>None</td>
              </tr>
              <tr>
                <td><code>:onCast()</code></td>
                <td>Trigger when circuit is cast</td>
                <td>None</td>
              </tr>
              <tr>
                <td><code>:selectTarget()</code></td>
                <td>Select hit entity</td>
                <td>None</td>
              </tr>
              <tr>
                <td><code>:selectCaster()</code></td>
                <td>Select circuit caster</td>
                <td>None</td>
              </tr>
              <tr>
                <td><code>:selectNearbyEnemies(radius)</code></td>
                <td>Select hostile entities</td>
                <td>radius (blocks)</td>
              </tr>
              <tr>
                <td><code>:selectNearbyAllies(radius)</code></td>
                <td>Select friendly entities</td>
                <td>radius (blocks)</td>
              </tr>
              <tr>
                <td><code>:applyDamage(amount)</code></td>
                <td>Deal damage</td>
                <td>amount (hearts)</td>
              </tr>
              <tr>
                <td><code>:healEntity(amount)</code></td>
                <td>Restore health</td>
                <td>amount (hearts)</td>
              </tr>
              <tr>
                <td><code>:applyPotion(effect, duration, amplifier)</code></td>
                <td>Apply potion effect</td>
                <td>effect name, seconds, level</td>
              </tr>
              <tr>
                <td><code>:applyKnockback(strength)</code></td>
                <td>Push entity away</td>
                <td>strength (0-10)</td>
              </tr>
              <tr>
                <td><code>:createExplosion(radius)</code></td>
                <td>Create explosion</td>
                <td>radius (blocks)</td>
              </tr>
              <tr>
                <td><code>:ifLessThan(value)</code></td>
                <td>Conditional branch</td>
                <td>threshold (0-1 for health)</td>
              </tr>
              <tr>
                <td><code>:else()</code></td>
                <td>Else branch</td>
                <td>None</td>
              </tr>
              <tr>
                <td><code>:endIf()</code></td>
                <td>End conditional</td>
                <td>None</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div id="affixes" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-magic"></i> Affixes</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Affix System</h3>
        <p>Random stat bonuses/penalties applied to items during compile. Can be rerolled using resources.</p>

        <h4>Affix Tiers</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Tier</th>
                <th>Chance</th>
                <th>Effect Range</th>
                <th>Prefix/Suffix</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="badge bg-secondary">Minor</span></td>
                <td>60%</td>
                <td>±5%</td>
                <td>"Worn" / "of the Recruit"</td>
              </tr>
              <tr>
                <td><span class="badge badge-rare">Moderate</span></td>
                <td>30%</td>
                <td>±15%</td>
                <td>"Reinforced" / "of the Veteran"</td>
              </tr>
              <tr>
                <td><span class="badge badge-epic">Major</span></td>
                <td>8%</td>
                <td>±30%</td>
                <td>"Masterwork" / "of the Champion"</td>
              </tr>
              <tr>
                <td><span class="badge badge-legendary">Perfect</span></td>
                <td>2%</td>
                <td>+50%</td>
                <td>"Godly" / "of Perfection"</td>
              </tr>
            </tbody>
          </table>
        </div>

        <h4>Affix Types</h4>
        <ul>
          <li><strong>Damage:</strong> ±5-50% weapon damage</li>
          <li><strong>Speed:</strong> ±5-30% fire rate/attack speed</li>
          <li><strong>Durability:</strong> ±10-100% max durability</li>
          <li><strong>FE Efficiency:</strong> ±10-50% FE consumption</li>
          <li><strong>Critical:</strong> 1-20% critical hit chance</li>
        </ul>

        <h4>Rerolling Affixes</h4>
        <p>Use Affix Reroll Orb at workbench:</p>
        <ul>
          <li><strong>Craft Cost:</strong> 4 Chronite + 2 Muon Crystals + 100k FE</li>
          <li><strong>Process:</strong> Removes all affixes, rolls new random set</li>
          <li><strong>Risk:</strong> May get worse affixes than before</li>
          <li><strong>Limit:</strong> Max 5 rerolls per item (prevents infinite grinding)</li>
        </ul>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Strategy:</strong> Save rerolls for high-tier items. Affixes can make 30%+ difference in endgame performance.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="resources" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-cube"></i> Resource Processing</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Rare Earth Materials Distribution</h3>
        <div class="chart-container">
          <canvas id="materialsChart"></canvas>
        </div>

        <h3>Material Details</h3>
        <div class="row">
          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-info">
              <h4><i class="fas fa-gem"></i> Cerulite (Common - 40%)</h4>
              <p><strong>Appearance:</strong> Blue crystalline with electric shimmer</p>
              <p><strong>Uses:</strong> Basic components, FE conduits, scanner parts, Cerulite Crates</p>
              <p><strong>Crate:</strong> Blue crystalline crate (easiest minigames: 5 steps, 4 colors)</p>
              <p><em>"The foundation of modern technology, cerulite conducts FE with remarkable stability."</em></p>
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-primary">
              <h4><i class="fas fa-magnet"></i> Neodyte (Uncommon - 35%)</h4>
              <p><strong>Appearance:</strong> Purple magnetic with metallic patterns</p>
              <p><strong>Uses:</strong> Advanced FE systems, module crafting, weapon components, Neodyte Crates</p>
              <p><strong>Crate:</strong> Purple magnetic-field crate (moderate minigames: 8 steps, 6 colors)</p>
              <p><em>"Neodyte's magnetic properties make it essential for energy amplification systems."</em></p>
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-warning">
              <h4><i class="fas fa-sun"></i> Lanthite (Rare - 20%)</h4>
              <p><strong>Appearance:</strong> Gold luminescent with inner light</p>
              <p><strong>Uses:</strong> Legendary components, Vault Key ingredients, exotic machines, Lanthite Crates</p>
              <p><strong>Crate:</strong> Golden glowing crate (hard minigames: 12 steps, 8 colors)</p>
              <p><em>"The Precursors used lanthite to create self-sustaining power matrices."</em></p>
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div class="card bg-dark border-light">
              <h4><i class="fas fa-clock"></i> Chronite (Very Rare - 5%)</h4>
              <p><strong>Appearance:</strong> Silver temporal-reactive with distortion shimmer</p>
              <p><strong>Uses:</strong> Artifact components, time-manipulation tech, ultimate upgrades, Chronite Crates</p>
              <p><strong>Crate:</strong> Prismatic silver crate with temporal distortion (hardest: 16 steps, 10 colors)</p>
              <p><em>"Chronite resonates with the fabric of spacetime itself. Handle with extreme caution."</em></p>
            </div>
          </div>
        </div>

        <h3>Processing Chain</h3>
        <h4>1. Composite Ore Mining</h4>
        <ul>
          <li><strong>Generates:</strong> Y=-48 to Y=-64</li>
          <li><strong>Vein size:</strong> 4-8 blocks</li>
          <li><strong>Spawn rate:</strong> 1 vein per chunk</li>
          <li><strong>Requires:</strong> Iron pickaxe or better</li>
          <li><strong>Drops:</strong> 1 ore (Silk Touch) or 2-4 Rare-Earth Chunks (Fortune applies)</li>
        </ul>

        <h4>2. Rare-Earth Separator (Block)</h4>
        <ul>
          <li><strong>Input:</strong> 1 Composite Ore or 4 Rare-Earth Chunks</li>
          <li><strong>Outputs (weighted random):</strong>
            <ul>
              <li>Cerulite Dust (40% chance)</li>
              <li>Neodyte Powder (35% chance)</li>
              <li>Lanthite Fragment (20% chance)</li>
              <li>Chronite Crystal (5% chance)</li>
            </ul>
          </li>
          <li><strong>Time:</strong> 60 seconds per operation</li>
          <li><strong>FE cost:</strong> 5,000 FE total</li>
          <li><strong>Byproduct:</strong> Stone Dust (can be voided or used in recipes)</li>
        </ul>

        <h4>3. Enrichment Chamber (Block)</h4>
        <ul>
          <li><strong>Input:</strong> 4 Rare-Earth Dust/Powder + Flux Agent</li>
          <li><strong>Output:</strong> 1 Enriched Rare-Earth Ingot</li>
          <li><strong>Time:</strong> 5 minutes</li>
          <li><strong>FE cost:</strong> 50,000 FE total</li>
          <li><strong>Required for:</strong> Vault Key crafting</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="creative-items" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-palette"></i> Creative Items</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Creative-Only Items</h3>
        <p>Special items for testing, demonstrations, and creative builds. Not obtainable in survival.</p>

        <h4>Infinite FE Cell</h4>
        <ul>
          <li>Provides unlimited FE to workbench</li>
          <li>No capacity limit</li>
          <li>Instant recharge</li>
        </ul>

        <h4>Creative Relic Socket</h4>
        <ul>
          <li>Can socket ANY relic without restriction</li>
          <li>Multiple relics per item</li>
          <li>Used for showcasing builds</li>
        </ul>

        <h4>Debug Scanner</h4>
        <ul>
          <li>Infinite range, instant scan</li>
          <li>Shows ALL structures in entire world</li>
          <li>Returns detailed NBT data</li>
        </ul>

        <h4>Instant Compile Token</h4>
        <ul>
          <li>Compile completes instantly (0 seconds)</li>
          <li>100% success rate</li>
          <li>Infinite uses</li>
        </ul>

        <h4>Configuration</h4>
        <p>Control creative item behavior in config:</p>
        <pre><code class="language-toml">[creative]
creativeItemsEnabled = true # enable creative items
creativeItemsInSurvival = false # prevent in survival
creativeItemStatReduction = 0.5 # reduce stats if used in survival</code></pre>

        <div class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <strong>Survival Protection:</strong> Creative items automatically detect survival mode and reduce effectiveness by 50% (configurable).
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="commands" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-terminal"></i> Commands</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Player Commands</h3>

        <h4>/relics recall</h4>
        <p>Recall all soulbound items to inventory.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics recall</code></li>
          <li><strong>Cooldown:</strong> 5 minutes (configurable)</li>
          <li><strong>Effect:</strong> Instantly returns all soulbound items from ground/other players</li>
        </ul>

        <h4>/relics soulbind</h4>
        <p>Check soulbind status of held item.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics soulbind</code></li>
          <li><strong>Output:</strong> Shows owner, bind time, type</li>
        </ul>

        <h4>/relics durability</h4>
        <p>Check durability of held item.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics durability</code></li>
          <li><strong>Output:</strong> Current/Max durability, percentage</li>
        </ul>

        <h3>Admin Commands</h3>

        <h4>/relics give</h4>
        <p>Give item to player.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics give &lt;player&gt; &lt;item&gt; [rarity] [count]</code></li>
          <li><strong>Example:</strong> <code>/relics give Steve relics:ballistic_rifle epic 1</code></li>
        </ul>

        <h4>/relics unbind</h4>
        <p>Force unbind soulbound item.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics unbind &lt;player&gt;</code></li>
          <li><strong>Effect:</strong> Unbinds held item (even Relics)</li>
          <li><strong>Warning:</strong> Bypasses normal restrictions</li>
        </ul>

        <h4>/relics grant</h4>
        <p>Grant workbench access to player.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics grant &lt;player&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;</code></li>
          <li><strong>Effect:</strong> Allows player to use your workbench</li>
        </ul>

        <h4>/relics revoke</h4>
        <p>Revoke workbench access.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics revoke &lt;player&gt; &lt;x&gt; &lt;y&gt; &lt;z&gt;</code></li>
        </ul>

        <h4>/relics reload</h4>
        <p>Reload configuration.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics reload</code></li>
          <li><strong>Permission:</strong> relics.admin</li>
        </ul>

        <h4>/relics debug</h4>
        <p>Toggle debug mode.</p>
        <ul>
          <li><strong>Usage:</strong> <code>/relics debug [on|off]</code></li>
          <li><strong>Effect:</strong> Enables detailed logging</li>
        </ul>
      </div>
    </div>
  </div>

  <div id="multiplayer" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-users"></i> Multiplayer</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Multiplayer Considerations</h3>

        <h4>PvP Balance</h4>
        <ul>
          <li><strong>Soulbinding Protection:</strong> Relics auto-bound, preventing theft</li>
          <li><strong>Artifact Risk:</strong> Artifacts NOT bound by default - can be stolen</li>
          <li><strong>Temporary Hold:</strong> Non-owners can hold soulbound items for 3 minutes</li>
          <li><strong>Death Mechanics:</strong> Soulbound items never drop on death</li>
        </ul>

        <h4>Team Strategies</h4>
        <ul>
          <li><strong>Shared Workbenches:</strong> Grant access to teammates for collaborative builds</li>
          <li><strong>Blueprint Sharing:</strong> Network computers via modems for instant blueprint transfer</li>
          <li><strong>Resource Pooling:</strong> Centralized FE grids and material storage</li>
          <li><strong>Scanner Networks:</strong> Coordinate structure discovery via shared data</li>
        </ul>

        <h4>Server Economy</h4>
        <ul>
          <li><strong>Blueprint Trading:</strong> Rare designs become valuable commodities</li>
          <li><strong>Repair Services:</strong> Players specialize in item maintenance</li>
          <li><strong>Resource Cartels:</strong> Control Chronite/Muon supply chains</li>
          <li><strong>Vault Hunting:</strong> Coordinated expeditions for Artifacts</li>
        </ul>

        <h4>Anti-Grief Measures</h4>
        <ul>
          <li><strong>Workbench Instancing:</strong> Private workbenches prevent item theft</li>
          <li><strong>Anti-Duping:</strong> NBT lineage tracking detects duplicated items</li>
          <li><strong>World-Seed Binding:</strong> Artifacts tied to world, cannot be duplicated</li>
          <li><strong>Admin Tools:</strong> Commands for investigation and rollback</li>
        </ul>

        <h4>Recommended Server Settings</h4>
        <pre><code class="language-toml">[multiplayer]
# Stricter rules for competitive servers
artifactMaxPerPlayer = 1 # limit artifact hoarding
allowQLRUnbinding = false # prevent artifact laundering
pvpSoulbindProtection = true # soulbound items immune to /kill

# Cooperative servers
allowAccessGrants = true # enable team workbenches
blueprintSharing = true # allow network blueprint transfer</code></pre>

        <div class="alert alert-info">
          <i class="fas fa-lightbulb"></i>
          <div>
            <strong>Community Builds:</strong> Encourage shared blueprint libraries and public FE grids for collaborative progression.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="config" class="section">
    <div class="section-header" onclick="toggleSection(this)">
      <h2><i class="fas fa-sliders-h"></i> Configuration</h2>
      <i class="fas fa-chevron-down toggle-icon"></i>
    </div>
    <div class="section-content">
      <div class="card">
        <h3>Server Configuration</h3>
        <pre><code class="language-toml">[general]
requireComputerForCompile = true # locked - cannot be disabled
requireComputerForRepair = true # locked - cannot be disabled

[durability]
durabilityEnabled = true
durabilityMultiplier = 1.0
repairCostMultiplier = 1.0

[soulbinding]
# Relics are ALWAYS soulbound automatically - cannot be disabled
relicsSoulbound = true # locked, cannot change

# Artifacts are NOT soulbound by default
artifactsSoulbound = false # locked, cannot change

# Players must apply Soulbind Module to bind Artifacts
# Allow unbinding at QLR
allowQLRUnbinding = true # can unbind items with Soulbind Module applied
relicsCannotBeUnbound = true # locked, Relics can NEVER be unbound

# Auto-return timers
groundReturnTime = 60 # seconds before returning from ground
otherPlayerReturnTime = 180 # seconds (3 minutes) in another player's inventory
lavaVoidInstantReturn = true # instant return if dropped in lava/void

# Death handling
keepOnDeath = true # Soulbound items never drop on death
allowTemporaryDrop = false # if true, items CAN drop but auto-return after groundReturnTime

# Admin controls
adminCanUnbind = true # allows admins to unbind items with commands
adminCanBypassSoulbind = true # allows admins to use any soulbound item

# Recall command
allowPlayerRecall = true # players can use /relics recall
recallCooldown = 300 # 5 minute cooldown between recalls

[workbench]
# Workbench instancing - cannot be disabled
workbenchInstanced = true # locked, each workbench is private to owner
allowAccessGrants = true # owners can grant access to specific players

[power]
feRequirementMultiplier = 1.0
compileTimeMultiplier = 1.0
weaponFeCostMultiplier = 1.0

[bench]
benchExplosionEnabled = true
benchExplosionRadius = 5.0
benchExplosionDamage = 20.0
benchExplosionBlockDamage = true

[minigames]
crateLockoutDuration = 1800 # 30 minutes in seconds
masterDecoderEnabled = true

[scanners]
basicScannerRange = 512
advancedScannerRange = 1024
pandoraLensRange = 2048

[worldgen]
ruinSpawnDensity = 1.0
ruinMinSpacing = 1000
crateRuinWeight = 60
repairRuinWeight = 40
vaultSpawnChance = 0.0001

[artifacts]
artifactWorldLimit = true
artifactMaxPerType = 1
artifactMaxPerPlayer = 3
artifactDuplicationPrevention = true

[creative]
creativeItemsEnabled = true
creativeItemsInSurvival = false
creativeItemStatReduction = 0.5</code></pre>
      </div>
    </div>
  </div>
</div>

<!-- Footer -->
<footer style="background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); border-top: 2px solid #334155; padding: 3rem 2rem 2rem 2rem; margin-top: 4rem;">
  <div class="container" style="max-width: 1200px; margin: 0 auto;">
    <div style="margin-bottom: 2rem;">
      <!-- Left Column: About -->
      <div>
        <h4 style="color: #f1f5f9; font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
          <i class="fas fa-landmark" style="color: #06b6d4;"></i>
          CC:ElderTech
        </h4>
        <p style="color: #cbd5e1; line-height: 1.6; margin-bottom: 1rem;">
          Explore ruins of lost civilizations and rekindle their forgotten quantum technology. A CC:Tweaked enhancement mod featuring ancient modular circuit programming, wireless energy transfer, and world-unique relics from vanished societies.
        </p>
        <p style="color: #94a3b8; font-size: 0.875rem; font-style: italic;">
          Archaeological programming meets extremely advanced Elder Technology.
        </p>
      </div>


    </div>

    <!-- License Section -->
    <!-- Profile Card -->
    <div style="border-top: 1px solid #334155; padding-top: 1.5rem; margin-top: 1.5rem; perspective: 1000px;">
      <div id="profileCard" style="
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.9) 0%, rgba(30, 41, 59, 0.9) 100%);
        border: 1px solid #334155;
        border-radius: 12px;
        padding: 2rem;
        transform-style: preserve-3d;
        transition: box-shadow 0.3s ease;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        will-change: transform;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      ">
        <!-- Glint Effect -->
        <div id="glintEffect" style="
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: linear-gradient(45deg, transparent 0%, rgba(255,255,255,0.1) 45%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0.1) 55%, transparent 100%);
          transform: translateX(-100%);
          pointer-events: none;
          opacity: 0;
        "></div>

        <div style="display: flex; align-items: center; gap: 1.5rem; position: relative; z-index: 1;">
          <!-- Profile Picture with Rainbow Border -->
          <div style="position: relative; flex-shrink: 0;">
            <div style="
              width: 96px;
              height: 96px;
              border-radius: 50%;
              padding: 4px;
              background: conic-gradient(from 0deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3, #ff0000);
              animation: rainbowRotate 6s linear infinite;
              display: flex;
              align-items: center;
              justify-content: center;
            ">
              <!-- Solid background circle to hide rainbow behind image -->
              <div style="
                width: 100%;
                height: 100%;
                border-radius: 50%;
                background: #0f172a;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: rainbowCounterRotate 6s linear infinite;
              ">
                <img src="img/hypno.png" alt="Profile" style="
                  width: calc(100% - 6px);
                  height: calc(100% - 6px);
                  border-radius: 50%;
                  object-fit: cover;
                ">
              </div>
            </div>
          </div>

          <!-- Profile Info -->
          <div style="flex: 1;">
            <h3 style="color: #f1f5f9; font-size: 1.5rem; font-weight: 700; margin: 0 0 0.5rem 0;">
              Cotton Le Sergal || Temperdox
            </h3>
            <div style="display: flex; flex-direction: column; gap: 0.5rem; font-size: 0.9rem;">
              <a href="https://github.com/Temperdox" target="_blank" style="color: #06b6d4; text-decoration: none; display: flex; align-items: center; gap: 0.5rem; transition: color 0.2s;">
                <i class="fab fa-github"></i>
                <span>GitHub: @Temperdox</span>
              </a>
              <div style="color: #cbd5e1; display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-user" style="color: #f59e0b;"></i>
                <span>Created by <strong style="color: #f1f5f9;">CottonLeSergal</strong></span>
              </div>
              <div style="color: #cbd5e1; display: flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-calendar" style="color: #ec4899;"></i>
                <span>© 2025 CottonLeSergal</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <style>
      @keyframes rainbowRotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }

      @keyframes rainbowCounterRotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(-360deg); }
      }

      #profileCard:hover {
        transform: scale(1.05) translateZ(0);
        box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3), 0 0 60px rgba(139, 92, 246, 0.2);
      }

      @keyframes glintAnimation {
        0% {
          transform: translateX(-100%);
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    </style>
  </div>
</footer>

<!-- Minecraft Tooltip -->
<div class="mc-tooltip" id="mcTooltip"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-lua.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-toml.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.1/backbone-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.6.2/joint.min.js"></script>
<script src="js/recipes.js"></script>

<script>
  // Toggle section
  function toggleSection(header) {
    header.classList.toggle('collapsed');
    const content = header.nextElementSibling;

    if (content.classList.contains('collapsed')) {
      content.classList.remove('collapsed');
      content.style.maxHeight = content.scrollHeight + 'px';
      setTimeout(() => {
        content.style.maxHeight = 'none';
      }, 300);
    } else {
      content.style.maxHeight = content.scrollHeight + 'px';
      setTimeout(() => {
        content.classList.add('collapsed');
        content.style.maxHeight = '0';
      }, 10);
    }
  }

  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('show');
    document.getElementById('mobileToggle').classList.toggle('active');
  }

  // Initialize sections
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.section-content').forEach(content => {
      content.style.maxHeight = 'none';
    });

    // Scroll spy
    const sections = document.querySelectorAll('.section');
    const tocLinks = document.querySelectorAll('.toc a');

    window.addEventListener('scroll', () => {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (window.pageYOffset >= sectionTop - 200) {
          current = section.getAttribute('id');
        }
      });

      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    });

    createFlowDiagram();

    // Delay chart creation to ensure canvas elements are fully rendered
    // Increased delay to ensure sections are fully expanded
    setTimeout(() => {
      createCharts();
    }, 500);
  });

  // Create interactive modification grid
  function createModGrid() {
    const grid = document.getElementById('modGrid');
    const tooltip = document.getElementById('mcTooltip');

    const exampleBuild = [
      {x:0, y:0, type:'projectile', icon:'🎯', name:'Projectile: Bullet', desc:'Root card. Fires bullet projectiles.', arrows:{south:'output'}},
      {x:0, y:1, type:'effect', icon:'💥', name:'Damage Card', desc:'Sets projectile damage', arrows:{north:'input'}},
      {x:0, y:2, type:'base-value', icon:'🎲', name:'Base Value: 2-10', desc:'Randomizes to value between 2-10 on compile', arrows:{east:'output'}},
      {x:1, y:2, type:'variable', icon:'X', name:'Variable: x', desc:'Local variable storing base value', arrows:{west:'input', south:'output'}},
      {x:0, y:3, type:'base-value', icon:'🎲', name:'Base Value: 2-5', desc:'Randomizes to value between 2-5 on compile', arrows:{east:'output'}},
      {x:1, y:3, type:'variable', icon:'Y', name:'Variable: y', desc:'Local variable storing base value', arrows:{west:'input', south:'output'}},
      {x:1, y:4, type:'junction', icon:'⊕', name:'Junction: Combine', desc:'Combines inputs for formulation', arrows:{north:'input', south:'output'}},
      {x:1, y:5, type:'formulation', icon:'∧', name:'Formulation: x^y', desc:'Calculates x to the power of y', arrows:{north:'input', north2:'input', east:'output'}},
      {x:2, y:5, type:'effect', icon:'💥', name:'Damage Output', desc:'Final damage value', arrows:{west:'input'}}
    ];

    for (let y = 0; y < 6; y++) {
      for (let x = 0; x < 9; x++) {
        const cell = document.createElement('div');
        cell.className = 'grid-cell';
        cell.dataset.x = x;
        cell.dataset.y = y;

        const cardData = exampleBuild.find(c => c.x === x && c.y === y);

        if (cardData) {
          cell.classList.add('has-card', cardData.type);
          cell.innerHTML = `<div class="card-icon">${cardData.icon}</div>`;

          // Add arrows
          if (cardData.arrows) {
            Object.entries(cardData.arrows).forEach(([dir, type]) => {
              const arrow = document.createElement('i');
              arrow.className = `fas fa-arrow-${type === 'output' ? 'up' : 'down'} arrow ${dir} ${type}`;
              cell.appendChild(arrow);
            });
          }

          // Tooltip
          cell.addEventListener('mouseenter', (e) => {
            tooltip.innerHTML = `
              <div class="title">${cardData.name}</div>
              <div class="desc">${cardData.desc}</div>
              ${cardData.arrows ? `<div class="stat">Arrows: ${Object.entries(cardData.arrows).map(([d,t]) => `${d}=${t}`).join(', ')}</div>` : ''}
            `;
            tooltip.classList.add('show');
            tooltip.style.left = e.pageX + 20 + 'px';
            tooltip.style.top = e.pageY - 20 + 'px';
          });

          cell.addEventListener('mouseleave', () => {
            tooltip.classList.remove('show');
          });
        }

        grid.appendChild(cell);
      }
    }
  }

  // Create module flow diagram with rounded bubbles
  function createFlowDiagram() {
    const container = document.getElementById('flowDiagram');
    container.innerHTML = `
      <div class="flow-chart">
        <!-- Step 1 -->
        <div class="flow-step">
          <div class="flow-bubble" style="background: linear-gradient(135deg, #10b981, #059669);">
            <div class="flow-icon">📦</div>
            <div class="flow-title">1. Install Modules</div>
            <div class="flow-desc">At workbench: Install modules from inventory into device module slots</div>
          </div>
          <div class="flow-arrow">↓</div>
        </div>

        <!-- Step 2 -->
        <div class="flow-step">
          <div class="flow-bubble" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
            <div class="flow-icon">💻</div>
            <div class="flow-title">2. Write Lua Code</div>
            <div class="flow-desc">Code circuit behavior using installed modules (baseVal(), effects, etc.)</div>
          </div>
          <div class="flow-arrow">↓</div>
        </div>

        <!-- Step 3 -->
        <div class="flow-step">
          <div class="flow-bubble" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">
            <div class="flow-icon">⚙️</div>
            <div class="flow-title">3. Compile to Cartridge</div>
            <div class="flow-desc">Modules transfer from device to cartridge, binding to circuit permanently</div>
          </div>
          <div class="flow-arrow">↓</div>
        </div>

        <!-- Step 4 -->
        <div class="flow-step">
          <div class="flow-bubble" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
            <div class="flow-icon">🚀</div>
            <div class="flow-title">4. Execute Circuit</div>
            <div class="flow-desc">Use compiled cartridge via keybind or direct call</div>
          </div>
        </div>

        <!-- Optional Step 5 -->
        <div class="flow-step" style="margin-top: 2rem; opacity: 0.7;">
          <div class="flow-arrow" style="transform: rotate(180deg);">↑</div>
          <div class="flow-bubble" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
            <div class="flow-icon">♻️</div>
            <div class="flow-title">5. Decompile (Optional)</div>
            <div class="flow-desc">Recover modules from cartridge (destroys cartridge)</div>
          </div>
        </div>
      </div>

      <style>
        .flow-chart {
          display: flex;
          flex-direction: column;
          align-items: center;
          padding: 2rem 1rem;
          background: rgba(30, 41, 59, 0.5);
          border-radius: 12px;
        }

        .flow-step {
          display: flex;
          flex-direction: column;
          align-items: center;
          width: 100%;
          max-width: 500px;
        }

        .flow-bubble {
          width: 100%;
          padding: 1.5rem;
          border-radius: 30px;
          color: white;
          text-align: center;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .flow-bubble:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
        }

        .flow-icon {
          font-size: 2.5rem;
          margin-bottom: 0.5rem;
        }

        .flow-title {
          font-size: 1.2rem;
          font-weight: 700;
          margin-bottom: 0.5rem;
        }

        .flow-desc {
          font-size: 0.9rem;
          opacity: 0.95;
          line-height: 1.4;
        }

        .flow-arrow {
          font-size: 3rem;
          color: var(--accent-cyan);
          margin: 0.5rem 0;
          animation: bounce 2s infinite;
        }

        @keyframes bounce {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }

        @media (max-width: 768px) {
          .flow-bubble {
            padding: 1rem;
          }

          .flow-icon {
            font-size: 2rem;
          }

          .flow-title {
            font-size: 1rem;
          }

          .flow-desc {
            font-size: 0.85rem;
          }

          .flow-arrow {
            font-size: 2rem;
          }
        }
      </style>
    `;
  }

  // Create charts
  function createCharts() {
    // Success Rate Chart
    const successCtx = document.getElementById('successChart');
    if (!successCtx) {
      console.warn('Success chart canvas not found');
      return;
    }

    const ratios = [];
    const successes = [];

    for (let r = 0; r <= 1; r += 0.01) {
      ratios.push((r * 100).toFixed(0));
      let success;
      if (r >= 0.98) success = 100;
      else if (r >= 0.90) success = 95 + (r - 0.90) * 625;
      else if (r >= 0.70) success = 50 + (r - 0.70) * 225;
      else success = r * 71.4;
      successes.push(success);
    }

    new Chart(successCtx, {
      type: 'line',
      data: {
        labels: ratios,
        datasets: [{
          label: 'Success Chance %',
          data: successes,
          borderColor: '#6366f1',
          backgroundColor: 'rgba(99, 102, 241, 0.1)',
          fill: true,
          tension: 0.4
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { labels: { color: '#f1f5f9', font: { size: 14 } } },
          title: { display: true, text: 'Exponential Modification Success Curve', color: '#f1f5f9', font: { size: 16, weight: 600 } }
        },
        scales: {
          x: {
            title: { display: true, text: 'FE/t Provided (% of Required)', color: '#94a3b8' },
            ticks: { color: '#94a3b8', callback: function(value, index) { return index % 10 === 0 ? this.getLabelForValue(value) + '%' : ''; } },
            grid: { color: 'rgba(148, 163, 184, 0.1)' }
          },
          y: {
            title: { display: true, text: 'Success Chance %', color: '#94a3b8' },
            ticks: { color: '#94a3b8' },
            grid: { color: 'rgba(148, 163, 184, 0.1)' }
          }
        }
      }
    });

    // Materials Chart
    const materialsCtx = document.getElementById('materialsChart');
    if (!materialsCtx) {
      console.warn('Materials chart canvas not found');
      return;
    }

    new Chart(materialsCtx, {
      type: 'doughnut',
      data: {
        labels: ['Cerulite (Common)', 'Neodyte (Uncommon)', 'Lanthite (Rare)', 'Chronite (Very Rare)'],
        datasets: [{
          data: [40, 35, 20, 5],
          backgroundColor: ['rgba(6, 182, 212, 0.8)', 'rgba(139, 92, 246, 0.8)', 'rgba(245, 158, 11, 0.8)', 'rgba(241, 245, 249, 0.8)'],
          borderColor: ['#06b6d4', '#8b5cf6', '#f59e0b', '#f1f5f9'],
          borderWidth: 2
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { position: 'right', labels: { color: '#f1f5f9', font: { size: 14 }, padding: 20 } },
          title: { display: true, text: 'Rare Earth Material Distribution', color: '#f1f5f9', font: { size: 16, weight: 600 } }
        }
      }
    });
  }

  // 3D Profile Card Effect
  (function() {
    const card = document.getElementById('profileCard');
    const glint = document.getElementById('glintEffect');
    let hasGlinted = false;

    if (!card || !glint) return;

    card.addEventListener('mouseenter', function() {
      // Trigger glint animation on first hover
      if (!hasGlinted) {
        glint.style.animation = 'glintAnimation 0.8s ease-out';
        hasGlinted = true;

        // Reset animation after it completes
        setTimeout(() => {
          glint.style.animation = '';
        }, 800);
      }
    });

    card.addEventListener('mousemove', function(e) {
      const rect = card.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      const centerX = rect.width / 2;
      const centerY = rect.height / 2;

      const rotateX = (y - centerY) / 30;  // Reduced sensitivity
      const rotateY = (centerX - x) / 160;  // Minimal X-axis movement (75% reduction)

      card.style.transform = `scale(1.05) perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(0)`;
    });

    card.addEventListener('mouseleave', function() {
      card.style.transform = 'scale(1) perspective(1000px) rotateX(0) rotateY(0) translateZ(0)';
    });
  })();
</script>
</body>
</html>
